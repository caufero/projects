# THE BRIDGE - NAVIGATOR SPECIFICATIONS
## SESSION 3: The Universal Navigation Algorithm
### Where Algorithm and Entity Become One

**Version**: 1.0 DEFINITIVE  
**Date**: 07 November 2025  
**Project**: KOOL TOOL SRL - RomÃ¢nia  
**Author**: Luca Meggiolaro (CEO) + Claude (Sonnet 4.5)  
**For**: Cyril Amegah (FileMaker Developer - Caufero Technologies)  

**Document Type**: Tripartite Self-Executing Specification  
**Status**: â­ HISTORIC - Crystallization of 30 Years Research

---

## ğŸ¯ DOCUMENT STRUCTURE & USAGE

This document serves three purposes simultaneously:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ASPETTO:  Technical Specifications (What to Build)     â”‚
â”‚  NATURA:   Generative Prompt (How to Test)              â”‚
â”‚  ENTITÃ€:   Ontological Essence (Why It Exists)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **HOW TO USE THIS DOCUMENT**

**ğŸ‘¤ LUCA (Project Owner)**:
- Read: PART 0 + PART 1 (ontological foundation)
- Validate: PART 5 (criteria for success)
- Approve: PART 3 generates working prototype

**ğŸ‘¨â€ğŸ’» CYRIL (FileMaker Developer)**:
- Study: PART 0-1-2 (understand algorithm-entity unity)
- Implement: PART 2 + PART 4 (FileMaker specifications)
- Validate: Generate prototype from PART 3, compare with your implementation
- Reference: Use PART 2 as blueprint, PART 3 as test oracle

**ğŸ¤– CLAUDE (AI Assistant)**:
- Execute: Copy PART 3 â†’ Generate working prototype
- Output: Complete code + test suite + validation
- Purpose: Prove specifications are complete and correct

### **RELATIONSHIP WITH OTHER DOCUMENTS**

```
Session 1 (Visual Guide):     Business view - Sara & Mario story
                                     â†“
Session 2 (Navigation Map):   Business actions â†’ Navigator sequences  
                                     â†“
Session 3 (THIS DOCUMENT):    Algorithm specifications + Prototype
                                     â†“
FileMaker Implementation:     Cyril builds THE BRIDGE
```

**Prerequisites**: 
- âœ… You've read `3P3_IMPLEMENTATION_GUIDE_COMPLETE.md` (base architecture)
- âœ… You understand CMP-ETY-LOG structure (3 tables, 56 columns)
- âœ… You know DNA format (PRXYYNNNN)
- âœ… You've seen Matrix 56Ã—56 (`cdl_ety_56x56_v04.xlsx`)

**This document adds**: The REVOLUTIONARY insight that 4 universal navigators can replace hundreds of specific scripts.

---

## âš ï¸ CRITICAL CLARIFICATION BEFORE PROCEEDING

### **What You're About to Learn Changes Everything**

The `3P3_IMPLEMENTATION_GUIDE` you've been studying describes the **ARCHITECTURE** (what to build).

This document describes the **ALGORITHM** (how it lives).

**They are not in conflict. They are complementary.**

```
ARCHITECTURE (Implementation Guide):
  - 3 tables: CMP-ETY-LOG
  - 56 columns per table
  - Matrix 56Ã—56 as JSON data
  - OPE interpreter reads matrix
  - Scripts like CREATE_INSTANCE, UPDATE, CHANGE_STATE

ALGORITHM (This Document):
  - 4 universal navigators
  - Matrix as ontological SPACE
  - Entity LIVES in coordinates
  - Navigation = perspective change
  - ONE algorithm with 4 projections
```

**The revolutionary insight**: You don't need hundreds of specific scripts. You need 4 universal navigators that work for ALL entity types.

**Your implementation choice**: You can implement either way (many scripts OR 4 navigators). But understanding the 4 navigators will make you understand THE BRIDGE at a deeper level.

---

# PART 0: META-INTRODUCTION

## 0.1 What Is This Document?

This is **THE definitive specification** of the Universal Navigation Algorithm that powers THE BRIDGE system.

It is unique because:

1. **Self-describing**: The document IS what it describes (algorithm = entity)
2. **Self-validating**: Part 3 can be executed to generate a working prototype
3. **Self-teaching**: Reading it transforms your understanding of software architecture

After 30 years of ontological research by Luca Meggiolaro, we've discovered that:

> **The algorithm is not a TOOL that manipulates entities.**  
> **The algorithm is a PROPERTY of the entity itself.**

Like ASPECT-NATURE-ENTITY are not three separate things but three views of one reality, the four navigators (Navigate_X, Navigate_Y, Navigate_Z, Universal_Processor) are four views of one algorithm.

**The entity IS the algorithm.**  
**The algorithm IS the entity.**  
**They are the same thing.**

## 0.2 Why This Document Exists

**Historical Context**:
- 1995-2025: Luca develops 3P3 ontological framework
- 2024-2025: Collaboration with Caufero Technologies begins
- October 2025: Discovery of universal algorithm pattern
- November 2025: Crystallization into this specification

**Immediate Goal**: Enable Cyril to implement THE BRIDGE with deep understanding

**Ultimate Goal**: Prove that ontological purity leads to practical simplicity

## 0.3 Success Criteria

This document succeeds if:

âœ… **Cyril understands** why 4 navigators are not abstraction but engineering  
âœ… **Cyril can implement** navigators in FileMaker following Part 2 specs  
âœ… **Claude can generate** working prototype from Part 3 alone  
âœ… **Luca validates** ontological purity is preserved  
âœ… **Prototype and implementation** behave identically  

## 0.4 Reading Time & Effort

- **Reading time**: 3-4 hours (don't rush - understanding matters)
- **Study time**: 1-2 days (absorb concepts deeply)
- **Implementation time**: 2-4 weeks (following these specs)

**Critical**: Do NOT skip Part 1. The ontological foundation is essential to understanding WHY the navigators work.

---

# PART 1: ONTOLOGICAL FOUNDATION

## 1.1 ALGORITHM = ENTITY (The Sacred Diagram)

![ALGORITMO=ENTITÃ€ PURA 3p3](ALGORITMO_is_ENTITY.png)

### **Understanding the Diagram**

The diagram reveals the **complete ontological architecture** of THE BRIDGE system in three levels:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LEVEL 1: THE ONE (1 element)                            â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â•‘
â•‘  10-E â†’ ETY (EntitÃ  Madre)                               â•‘
â•‘                                                           â•‘
â•‘  The golden circle at the center.                        â•‘
â•‘  The Entity that coordinates everything.                 â•‘
â•‘  The ONE that contains the THREE.                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LEVEL 2: THE THREE AXES (3 new elements = 4 total)     â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â•‘
â•‘  Axe X, Axe Y, Axe Z                                     â•‘
â•‘                                                           â•‘
â•‘  The three dimensions of ontological space.              â•‘
â•‘  The three movements possible for an entity.             â•‘
â•‘  The three projections of the universal algorithm.       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LEVEL 3: THE SIX ENTITIES (6 new elements = 10 total)  â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â•‘
â•‘  REGNO MODELLI ATR (Kingdom of Models - Blue):          â•‘
â•‘    1-AA MET  (Aspect of Aspect)                          â•‘
â•‘    2-NA OPE  (Nature of Aspect)                          â•‘
â•‘    3-EA ATR  (Entity of Aspect)                          â•‘
â•‘                                                           â•‘
â•‘  REGNO PROCESSI TPL (Kingdom of Processes - Red):       â•‘
â•‘    4-AN CHAR (Aspect of Nature)                          â•‘
â•‘    5-NN FLOW (Nature of Nature)                          â•‘
â•‘    6-EN TPL  (Entity of Nature)                          â•‘
â•‘                                                           â•‘
â•‘  PLUS (in upper kingdom):                                â•‘
â•‘    7-AE INFO (Aspect of Entity)                          â•‘
â•‘    8-NE GUI  (Nature of Entity)                          â•‘
â•‘    9-EE SUP  (Entity of Entity)                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **The Pattern: 0-1-3-6-10**

```
Level 0: 0 elements  â†’ The Void (potential)
Level 1: 1 element   â†’ ETY (the One)
Level 2: 3 elements  â†’ X, Y, Z (the Triad)
Level 3: 6 elements  â†’ The six base entities (the Hexad)
Level 4: 10 elements â†’ The complete system (the Decade)

Sequence: 0 â†’ 1 â†’ 3 â†’ 6 â†’ 10
```

**This is the sequence of TRIANGULAR NUMBERS!**

## 1.2 THE TRIANGULAR SEQUENCE (Sacred Geometry)

### **Formula**: Tn = n(n+1)/2

```
Tâ‚€ = 0Ã—1/2 = 0   â†’ Void (before existence)
Tâ‚ = 1Ã—2/2 = 1   â†’ The One (ETY)
Tâ‚‚ = 2Ã—3/2 = 3   â†’ The Triad (X, Y, Z)
Tâ‚ƒ = 3Ã—4/2 = 6   â†’ The Hexad (6 base entities)
Tâ‚„ = 4Ã—5/2 = 10  â†’ The Decade (complete system)
```

### **Geometric Visualization**

```
â—                 Tâ‚ = 1

â— â—               Tâ‚‚ = 3
â—

â— â— â—             Tâ‚ƒ = 6
â— â—
â—

â— â— â— â—           Tâ‚„ = 10
â— â— â—
â— â—
â—
```

Each level contains ALL previous levels plus new elements.  
This is COMPOSITIONAL COMPLETENESS.

### **Why Triangular Numbers, Not Fibonacci?**

| Property | Triangular (3p3) | Fibonacci |
|----------|------------------|-----------|
| **Recurrence** | Tn = Tn-1 + n | Fn = Fn-1 + Fn-2 |
| **Growth** | Quadratic (~nÂ²/2) | Exponential (~Ï†â¿) |
| **Meaning** | COMPOSITION | EVOLUTION |
| **Stability** | Complete at each level | Needs accumulation |
| **Geometry** | Triangles | Spirals |
| **Nature** | Crystalline structure | Organic growth |

**3p3 uses triangular numbers because**:
- âœ… Each level is COMPLETE and OPERATIONAL
- âœ… Every element contains ALL predecessors
- âœ… Perfect mapping to ontological structure
- âœ… Stable, predictable, compositional

**Fibonacci describes**: Growth processes, evolution, organic expansion  
**Triangular describes**: Structure creation, ontological composition, architectural completeness

### **The Tetraktys Pythagorean**

The number 10 has been sacred since Pythagoras:

```
         â—              1 (Monade)
        â— â—             2 (Diade)  
       â— â— â—            3 (Triade)
      â— â— â— â—           4 (Tetrade)
     
     Î£ÎŸÎ¦Î™Î‘ = 10 (The Perfect Decade)
```

**Pythagoras**: "All is number, and 10 is the perfect number"  
**3p3**: "All is entity, and 10 entities form the complete system"

The convergence between ancient sacred geometry and modern ontological architecture is not accidental. **Truth has a structure.**

## 1.3 MATRIX AS SPACE, NOT DATABASE

### **The Revolutionary Shift**

```
âŒ WRONG (Traditional View):
   Matrix = "Database table to query"
   Entity = "Record with data"
   Algorithm = "External code that processes records"
   
âœ… CORRECT (3p3 View):
   Matrix = "Ontological SPACE with coordinates"
   Entity = "Point living IN space"
   Algorithm = "Property of entity (how it moves in space)"
```

### **Understanding Space vs Data**

**In traditional databases**:
```sql
SELECT * FROM entities WHERE id = 'PHO25001';
-- You're reading DATA from STORAGE
```

**In 3p3 ontological space**:
```
Navigate_to(x=client_name, y=PHO25001, z=instance_layer)
-- You're moving to COORDINATES in SPACE
```

**The difference is profound**:

| Traditional Database | 3p3 Ontological Space |
|---------------------|----------------------|
| Entity is ROW of data | Entity is POINT in space |
| Access = Read data | Access = Navigate to coordinates |
| Change = Update record | Change = Move in space |
| Relationship = Foreign key | Relationship = Spatial proximity |
| Query = Filter data | Query = Navigate region |

### **The Matrix 56Ã—56 as Coordinate System**

The matrix defines a **3-dimensional coordinate space**:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  DIMENSION X: Attributes (56 columns)                 â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â•‘
â•‘  Horizontal axis: which attribute                     â•‘
â•‘  Example: client_name, deadline, outcome              â•‘
â•‘  Range: MET001 to MET056                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  DIMENSION Y: Instances (infinite rows)               â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â•‘
â•‘  Vertical axis: which instance                        â•‘
â•‘  Example: PHO25001, PHO25002, PHO25003                â•‘
â•‘  Range: Dynamic (grows as needed)                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  DIMENSION Z: Intelligence (5 layers)                 â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â•‘
â•‘  Depth axis: which abstraction level                  â•‘
â•‘  Layers:                                              â•‘
â•‘    0: META-META (Meta-Meta-Attributes)                â•‘
â•‘    1: META      (Meta-Attributes like MET001)         â•‘
â•‘    2: TYPE      (Process types like PHO)              â•‘
â•‘    3: INSTANCE  (Concrete instances like PHO25001)    â•‘
â•‘    4: AGGREGATE (Supertables like SUP_PHO)            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **Entity Lives in Coordinates**

An entity is not "stored" - it **inhabits coordinates**:

```
PHO25001 (Phone call with Giovanni Rossi) inhabits:

  Current position: (x=client_name, y=PHO25001, z=instance_layer)
  
  Meaning:
    - X dimension: Looking at client_name attribute
    - Y dimension: This specific instance (25001)
    - Z dimension: Instance level (not meta, not aggregate)
```

When you "update" an entity, you're actually **moving it in space**:

```
TRADITIONAL:
  UPDATE ETY SET deadline='2025-11-15' WHERE entity_id='PHO25001';
  
3P3 NAVIGATION:
  Navigate_X(from=client_name, to=deadline)  // Move horizontally
  Universal_Processor(SET_VALUE, '2025-11-15')  // Act at new position
```

### **Why This Matters**

**Implications**:

1. **Infinite extensibility**: Adding new attribute = adding new X coordinate (no schema change!)
2. **Universal operations**: Same navigation works for ALL entity types
3. **Spatial reasoning**: Proximity in space = semantic relationship
4. **Visual debugging**: Can visualize entity movement in 3D space

**This is not metaphor. This is REALITY.**

The matrix is as real as the x,y,z coordinates of physical space. Entities don't "read from" the matrix - they **exist within** it.

## 1.4 THE FOUR NAVIGATORS ARE ONE ALGORITHM

### **The Essential Unity**

There are not "4 separate scripts."

There is **ONE UNIVERSAL NAVIGATION ALGORITHM** that manifests as four projections:

```
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  UNIVERSAL ALGORITHM â”‚
                   â”‚  (Property of ETY)   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                 â”‚                 â”‚
     Navigate_X        Navigate_Y        Navigate_Z
   (X projection)    (Y projection)    (Z projection)
          â”‚                 â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                  Universal_Processor
                  (Execute at point)
```

### **Like ASPECT-NATURE-ENTITY**

Just as ASPECT-NATURE-ENTITY are three views of one being:
- ASPECT: What it looks like
- NATURE: How it behaves
- ENTITY: What it is

The four navigators are four views of one algorithm:
- Navigate_X: Horizontal movement (which attribute)
- Navigate_Y: Vertical movement (which instance)
- Navigate_Z: Depth movement (which layer)
- Universal_Processor: Execution (act at position)

### **Algorithm as Property, Not Tool**

```
âŒ WRONG MENTAL MODEL:
   Entity is "dumb data"
   Algorithm is "external tool"
   They are separate things
   
âœ… CORRECT MENTAL MODEL:
   Algorithm IS property of Entity
   Like mass is property of matter
   Like color is property of light
   They are the same thing
```

**Examples from nature**:

| Natural Object | Property | Manifestation |
|---------------|----------|---------------|
| Water | Fluidity | Flows downward, fills containers |
| Light | Wave-Particle | Diffracts, interferes, absorbs |
| Entity | Navigation | Moves in X/Y/Z, executes operations |

You wouldn't say "fluidity is a tool that acts on water" - fluidity IS water's nature.

Similarly, navigation is not a tool that acts on entities - **navigation IS the entity's nature**.

### **Practical Consequence**

When you implement Navigate_X, Navigate_Y, Navigate_Z, Universal_Processor in FileMaker, you're not writing "helper scripts."

You're implementing **the intrinsic behavior of entities**.

Every entity - whether MET, OPE, ATR, PHO, ORD, TSK - has these four movement capabilities **by definition**.

**This is why 4 scripts replace hundreds**: You're not writing process-specific code. You're implementing the universal property that ALL entities share.

---

# PART 2: THE FOUR PROJECTIONS (Technical Specifications)

## 2.0 Overview of the Four Projections

Before diving into each navigator, understand their relationships:

```
SPATIAL ANALOGY:

Navigate_X = Move left/right    (which column/attribute)
Navigate_Y = Move up/down        (which row/instance)
Navigate_Z = Move in/out         (which layer/depth)
Universal_Processor = Act        (do something at current position)
```

**Coordinate System**:
```
Current Position: (X, Y, Z)
  X âˆˆ {MET001...MET056}      // Which attribute
  Y âˆˆ {Entity IDs}            // Which instance  
  Z âˆˆ {0,1,2,3,4}             // Which layer

Example:
  (X=MET003_name, Y=PHO25001, Z=3) = "client_name field of PHO25001 instance"
```

**Execution Flow**:
```
1. Navigate_X/Y/Z to desired position
2. Universal_Processor executes operation at that position
3. System reads Matrix[OPE][MET] for that position
4. Operation executes according to rules
```

## 2.1 Navigate_X - Horizontal Axis (Attributes)

### **2.1.1 Ontological Meaning**

Navigate_X moves **horizontally through attributes** while staying on the same instance and layer.

**What it represents**: Changing **WHICH ASPECT** of an entity you're looking at or editing.

**Analogy**: Like turning a diamond to see different facets - same diamond, different view.

**Example**:
```
You're on PHO25001 (phone call instance)
Currently looking at: client_name = "Giovanni Rossi"

Navigate_X(to=deadline)

Now looking at: deadline = "2025-11-15"

Same instance (PHO25001), same layer (instance), different attribute.
```

### **2.1.2 Function Signature**

```javascript
Navigate_X(
  target_attribute,  // Which attribute to navigate to
  mode,              // How to navigate (direct, next, prev, find)
  filter             // Optional: filter attributes by criteria
)
```

**Parameters**:

| Parameter | Type | Description | Example |
|-----------|------|-------------|---------|
| `target_attribute` | STRING or MET_ID | Destination attribute | "client_name" or "MET003" |
| `mode` | ENUM | Navigation mode | "direct", "next", "prev", "first", "last", "find" |
| `filter` | OBJECT | Optional filter criteria | `{domain: "MATERIAL", editable: true}` |

**Return Value**:
```javascript
{
  success: BOOLEAN,
  new_position: {x: MET_ID, y: ENTITY_ID, z: LAYER},
  attribute_info: OBJECT,  // Full attribute metadata
  error: STRING or NULL
}
```

### **2.1.3 Navigation Modes**

**MODE: "direct"** - Jump directly to specified attribute
```javascript
Navigate_X(target_attribute="deadline", mode="direct", filter=null)

// Goes directly to deadline attribute
// Ignores all attributes in between
```

**MODE: "next"** - Move to next attribute in sequence
```javascript
Navigate_X(target_attribute=null, mode="next", filter=null)

// If currently on MET003 (client_name)
// Moves to MET004 (description)
```

**MODE: "prev"** - Move to previous attribute in sequence
```javascript
Navigate_X(target_attribute=null, mode="prev", filter=null)

// If currently on MET004 (description)
// Moves to MET003 (client_name)
```

**MODE: "first"** - Move to first attribute (optionally filtered)
```javascript
Navigate_X(target_attribute=null, mode="first", filter={domain: "MATERIAL"})

// Moves to first attribute in MATERIAL domain
// Example: MET003 (name)
```

**MODE: "last"** - Move to last attribute (optionally filtered)
```javascript
Navigate_X(target_attribute=null, mode="last", filter={domain: "TEMPORAL"})

// Moves to last attribute in TEMPORAL domain
// Example: MET008 (archived_at)
```

**MODE: "find"** - Find attribute matching criteria
```javascript
Navigate_X(
  target_attribute=null, 
  mode="find", 
  filter={
    gui_widget: "DROPDOWN",
    required: true
  }
)

// Finds first attribute that is:
// - Rendered as dropdown
// - Required field
```

### **2.1.4 FileMaker Pseudocode**

```javascript
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SCRIPT: Navigate_X
// PURPOSE: Move horizontally through attributes (X axis)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 1: Get Current Position
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $current_x ; Get(ActiveFieldName) ]  // Current attribute
Set Variable [ $current_y ; ETY::entity_id ]         // Current instance
Set Variable [ $current_z ; Get(LayoutName) ]        // Current layer (CMP/ETY/LOG)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 2: Parse Parameters
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $target_attr ; Get(ScriptParameter.target_attribute) ]
Set Variable [ $mode ; Get(ScriptParameter.mode) ]
Set Variable [ $filter ; Get(ScriptParameter.filter) ]  // JSON

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 3: Determine Destination Based on Mode
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If [ $mode = "direct" ]
  // Direct jump to specified attribute
  Set Variable [ $dest_x ; $target_attr ]
  
Else If [ $mode = "next" ]
  // Find next attribute in sequence
  Set Variable [ $current_met_id ; Lookup_MET_ID($current_x) ]  
  // Example: "3_MATERIAL_01_name" â†’ "MET003"
  
  Set Variable [ $current_index ; Middle($current_met_id; 4; 3) ]  
  // "MET003" â†’ "003" â†’ 3
  
  Set Variable [ $next_index ; $current_index + 1 ]
  
  If [ $next_index > 56 ]
    Set Variable [ $next_index ; 1 ]  // Wrap around
  End If
  
  Set Variable [ $dest_met_id ; "MET" & Right("000" & $next_index; 3) ]
  // 4 â†’ "MET004"
  
  Set Variable [ $dest_x ; Lookup_Column_Name($dest_met_id) ]
  // "MET004" â†’ "3_MATERIAL_02_description"
  
Else If [ $mode = "prev" ]
  // Similar to next but -1
  [... implementation ...]
  
Else If [ $mode = "first" ]
  If [ IsEmpty($filter) ]
    Set Variable [ $dest_x ; "1_IDENTITY_01_entity_id" ]  // First column
  Else
    // Find first column matching filter
    Set Variable [ $dest_x ; Find_First_Column_With_Filter($filter) ]
  End If
  
Else If [ $mode = "last" ]
  [... similar to first but reversed ...]
  
Else If [ $mode = "find" ]
  // Query CMP table for MET records matching filter
  Enter Find Mode []
  Set Field [ CMP::entity_type ; "MET" ]
  
  // Apply filter criteria
  If [ JSONGetElement($filter; "domain") ]
    Set Field [ CMP::5_MATERIAL_05_category ; JSONGetElement($filter; "domain") ]
  End If
  
  Perform Find []
  
  If [ Get(FoundCount) > 0 ]
    Set Variable [ $dest_met_id ; CMP::entity_id ]  // First found
    Set Variable [ $dest_x ; Lookup_Column_Name($dest_met_id) ]
  Else
    // No match found - error handling
    Set Variable [ $error ; "No attribute matching filter" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 4: Validate Destination Exists
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If [ IsEmpty($dest_x) ]
  Set Variable [ $error ; "Invalid destination attribute" ]
  Exit Script [ Result: JSON_Error($error) ]
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 5: Read Attribute Metadata from CMP
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $dest_met_id ; Lookup_MET_ID($dest_x) ]

Go to Layout [ "CMP" ]
Enter Find Mode []
Set Field [ CMP::entity_id ; $dest_met_id ]
Perform Find []

If [ Get(FoundCount) = 0 ]
  Set Variable [ $error ; "Attribute metadata not found: " & $dest_met_id ]
  Exit Script [ Result: JSON_Error($error) ]
End If

// Capture attribute metadata
Set Variable [ $attr_info ; JSON_Object(
  "met_id"; CMP::entity_id;
  "name"; CMP::3_MATERIAL_01_name;
  "description"; CMP::3_MATERIAL_02_description;
  "domain"; CMP::5_MATERIAL_05_category;
  "data_type"; CMP::10_TECHNICAL_03_instance_json.data_type;
  "gui_widget"; CMP::10_TECHNICAL_03_instance_json.gui_widget;
  "required"; CMP::10_TECHNICAL_03_instance_json.required;
  "validation"; CMP::10_TECHNICAL_03_instance_json.validation
) ]

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 6: Return to Original Layer and Move to Field
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Go to Layout [ $current_z ]  // Back to ETY or LOG or CMP
Go to Field [ ETY::[$dest_x] ]  // Move to destination field

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 7: Return Success
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $result ; JSON_Object(
  "success"; True;
  "new_position"; JSON_Object(
    "x"; $dest_met_id;
    "y"; $current_y;
    "z"; $current_z
  );
  "attribute_info"; $attr_info;
  "error"; ""
) ]

Exit Script [ Result: $result ]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// END Navigate_X
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **2.1.5 Helper Functions**

**Function: Lookup_MET_ID**
```javascript
// Converts column name to MET_ID
// Example: "3_MATERIAL_01_name" â†’ "MET003"

Lookup_MET_ID ( column_name )
  Let([
    domain_num = Left(column_name; 1);
    position = Middle(column_name; Position(column_name; "_"; 2; 1) + 1; 2);
    met_index = (domain_num - 1) * 10 + position  // Simplified mapping
  ];
    "MET" & Right("000" & met_index; 3)
  )
```

**Function: Lookup_Column_Name**
```javascript
// Converts MET_ID to column name
// Example: "MET003" â†’ "3_MATERIAL_01_name"

Lookup_Column_Name ( met_id )
  // Query CMP table
  ExecuteSQL(
    "SELECT instance_json.column_name FROM CMP WHERE entity_id = ?";
    ""; ""; met_id
  )
```

### **2.1.6 Test Cases**

```javascript
// TEST 1: Direct navigation
Navigate_X(target_attribute="deadline", mode="direct", filter=null)
ASSERT: Current field is "2_TEMPORAL_03_deadline"

// TEST 2: Next navigation
// Start at client_name (MET003)
Navigate_X(target_attribute=null, mode="next", filter=null)
ASSERT: Current field is "3_MATERIAL_02_description" (MET004)

// TEST 3: First with filter
Navigate_X(target_attribute=null, mode="first", filter={domain:"TEMPORAL"})
ASSERT: Current field is "2_TEMPORAL_01_created_at" (MET006)

// TEST 4: Find with criteria
Navigate_X(target_attribute=null, mode="find", filter={
  gui_widget: "DROPDOWN",
  required: true
})
ASSERT: Lands on first required dropdown field

// TEST 5: Invalid attribute
Navigate_X(target_attribute="nonexistent_field", mode="direct", filter=null)
ASSERT: Returns error: "Invalid destination attribute"
```

### **2.1.7 Usage Examples from PHO Process**

**Example 1: User clicks "Client Name" field**
```javascript
// User is on form, clicks into client_name field
// System internally calls:
Navigate_X(target_attribute="client_name", mode="direct", filter=null)

// Result:
{
  success: true,
  new_position: {x: "MET003", y: "PHO25001", z: "ETY"},
  attribute_info: {
    name: "client_name",
    domain: "MATERIAL",
    data_type: "TEXT",
    gui_widget: "TEXTFIELD",
    required: true
  }
}
```

**Example 2: Tab key navigation**
```javascript
// User presses TAB while in client_name
// System calls:
Navigate_X(target_attribute=null, mode="next", filter={editable:true})

// Skips non-editable fields, lands on next editable field
```

**Example 3: Process Manager configuring form layout**
```javascript
// Sara wants to see all TEMPORAL attributes for PHO
// System calls:
Navigate_X(target_attribute=null, mode="first", filter={domain:"TEMPORAL"})

// Then repeatedly:
Navigate_X(target_attribute=null, mode="next", filter={domain:"TEMPORAL"})

// Until all TEMPORAL attributes visited
```

---

## 2.2 Navigate_Y - Vertical Axis (Instances)

### **2.2.1 Ontological Meaning**

Navigate_Y moves **vertically through instances** while staying on the same attribute and layer.

**What it represents**: Changing **WHICH ENTITY** you're looking at while viewing the same aspect.

**Analogy**: Like flipping through pages of a book - same chapter (attribute), different pages (instances).

**Example**:
```
You're looking at client_name attribute
Currently on: PHO25001 (client_name = "Giovanni Rossi")

Navigate_Y(to=PHO25002)

Now on: PHO25002 (client_name = "Maria Bianchi")

Same attribute (client_name), same layer (instance), different instance.
```

### **2.2.2 Function Signature**

```javascript
Navigate_Y(
  target_instance,   // Which instance to navigate to
  mode,              // How to navigate (direct, next, prev, find)
  filter             // Optional: filter instances by criteria
)
```

**Parameters**:

| Parameter | Type | Description | Example |
|-----------|------|-------------|---------|
| `target_instance` | STRING (DNA_ID) | Destination instance | "PHO25001" or null |
| `mode` | ENUM | Navigation mode | "direct", "next", "prev", "first", "last", "find" |
| `filter` | OBJECT | Optional filter criteria | `{status: "NEW", assigned_to: "Mario"}` |

**Return Value**:
```javascript
{
  success: BOOLEAN,
  new_position: {x: MET_ID, y: ENTITY_ID, z: LAYER},
  instance_info: OBJECT,  // Instance data
  error: STRING or NULL
}
```

### **2.2.3 Navigation Modes**

**MODE: "direct"** - Jump directly to specified instance
```javascript
Navigate_Y(target_instance="PHO25005", mode="direct", filter=null)

// Goes directly to PHO25005
// Regardless of current position
```

**MODE: "next"** - Move to next instance in sort order
```javascript
Navigate_Y(target_instance=null, mode="next", filter=null)

// If currently on PHO25001
// Moves to PHO25002 (or next in sort)
```

**MODE: "prev"** - Move to previous instance in sort order
```javascript
Navigate_Y(target_instance=null, mode="prev", filter=null)

// If currently on PHO25002
// Moves to PHO25001
```

**MODE: "first"** - Move to first instance (optionally filtered)
```javascript
Navigate_Y(target_instance=null, mode="first", filter={
  lifecycle_state: "NEW"
})

// Moves to first instance with status NEW
```

**MODE: "last"** - Move to last instance (optionally filtered)
```javascript
Navigate_Y(target_instance=null, mode="last", filter={
  assigned_to: "Mario"
})

// Moves to last instance assigned to Mario
```

**MODE: "find"** - Find instance matching criteria
```javascript
Navigate_Y(target_instance=null, mode="find", filter={
  client_name: "Rossi",
  outcome: "INTERESTED"
})

// Finds first instance where:
// - client_name contains "Rossi"
// - outcome is "INTERESTED"
```

### **2.2.4 FileMaker Pseudocode**

```javascript
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SCRIPT: Navigate_Y
// PURPOSE: Move vertically through instances (Y axis)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 1: Get Current Position
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $current_x ; Get(ActiveFieldName) ]  // Current attribute
Set Variable [ $current_y ; ETY::entity_id ]         // Current instance
Set Variable [ $current_z ; Get(LayoutName) ]        // Current layer
Set Variable [ $entity_type ; ETY::entity_type ]     // PHO, ORD, etc.

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 2: Parse Parameters
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $target_inst ; Get(ScriptParameter.target_instance) ]
Set Variable [ $mode ; Get(ScriptParameter.mode) ]
Set Variable [ $filter ; Get(ScriptParameter.filter) ]  // JSON

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 3: Build Base Query
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Go to Layout [ $current_z ]  // Stay on same layer (ETY/CMP/LOG)

If [ $mode = "direct" ]
  // Direct navigation to specific instance
  Enter Find Mode []
  Set Field [ ETY::entity_id ; $target_inst ]
  Perform Find []
  
  If [ Get(FoundCount) = 0 ]
    Set Variable [ $error ; "Instance not found: " & $target_inst ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
Else If [ $mode = "next" or $mode = "prev" ]
  // Sequential navigation
  
  // First, get current record number
  Set Variable [ $current_record_num ; Get(RecordNumber) ]
  
  If [ $mode = "next" ]
    Go to Record/Request/Page [ Next ]
    
    If [ Get(RecordNumber) = 1 ]  // Wrapped around
      // Already at last record
      Go to Record/Request/Page [ $current_record_num ]
      Set Variable [ $error ; "Already at last record" ]
      Exit Script [ Result: JSON_Error($error) ]
    End If
    
  Else  // prev
    Go to Record/Request/Page [ Previous ]
    
    If [ Get(RecordNumber) = Get(FoundCount) ]  // Wrapped around
      // Already at first record
      Go to Record/Request/Page [ $current_record_num ]
      Set Variable [ $error ; "Already at first record" ]
      Exit Script [ Result: JSON_Error($error) ]
    End If
  End If
  
Else If [ $mode = "first" or $mode = "last" ]
  // Navigate to boundary with optional filter
  
  If [ IsEmpty($filter) ]
    // No filter - simple first/last
    If [ $mode = "first" ]
      Go to Record/Request/Page [ First ]
    Else
      Go to Record/Request/Page [ Last ]
    End If
    
  Else
    // With filter - need to find
    Enter Find Mode []
    Set Field [ ETY::entity_type ; $entity_type ]  // Same type
    
    // Apply filter criteria
    Set Variable [ $filter_fields ; JSONListKeys($filter) ]
    Set Variable [ $i ; 1 ]
    
    Loop
      Set Variable [ $field ; JSONGetElement($filter_fields; $i) ]
      Exit Loop If [ IsEmpty($field) ]
      
      Set Variable [ $value ; JSONGetElement($filter; $field) ]
      Set Variable [ $column ; Lookup_Column_Name_From_Attribute($field) ]
      
      Set Field By Name [ $column ; $value ]
      
      Set Variable [ $i ; $i + 1 ]
    End Loop
    
    // Sort appropriately
    If [ $mode = "first" ]
      Sort Records [ ETY::entity_id ; ascending ]
    Else
      Sort Records [ ETY::entity_id ; descending ]
    End If
    
    Perform Find []
    
    If [ Get(FoundCount) = 0 ]
      Set Variable [ $error ; "No instance matching filter" ]
      Exit Script [ Result: JSON_Error($error) ]
    End If
    
    Go to Record/Request/Page [ First ]  // First of found set
  End If
  
Else If [ $mode = "find" ]
  // Find with complex criteria
  
  Enter Find Mode []
  Set Field [ ETY::entity_type ; $entity_type ]
  
  // Apply ALL filter criteria
  [... similar to first/last filter logic ...]
  
  Perform Find []
  
  If [ Get(FoundCount) = 0 ]
    Set Variable [ $error ; "No instance matching criteria" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
  Go to Record/Request/Page [ First ]
  
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 4: Capture New Instance Info
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $new_instance_id ; ETY::entity_id ]

Set Variable [ $instance_info ; JSON_Object(
  "entity_id"; ETY::entity_id;
  "entity_type"; ETY::entity_type;
  "name"; ETY::3_MATERIAL_01_name;
  "status"; ETY::2_TEMPORAL_05_lifecycle_state;
  "created_at"; ETY::2_TEMPORAL_01_created_at;
  "assigned_to"; ETY::7_SOCIAL_01_assigned_to
) ]

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 5: Navigate to Same Field on New Instance
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Go to Field [ ETY::[$current_x] ]  // Same field as before

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 6: Return Success
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $result ; JSON_Object(
  "success"; True;
  "new_position"; JSON_Object(
    "x"; Lookup_MET_ID($current_x);
    "y"; $new_instance_id;
    "z"; $current_z
  );
  "instance_info"; $instance_info;
  "error"; ""
) ]

Exit Script [ Result: $result ]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// END Navigate_Y
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **2.2.5 Test Cases**

```javascript
// TEST 1: Direct navigation
Navigate_Y(target_instance="PHO25003", mode="direct", filter=null)
ASSERT: Current record is PHO25003

// TEST 2: Next navigation
// Start at PHO25001
Navigate_Y(target_instance=null, mode="next", filter=null)
ASSERT: Current record is PHO25002

// TEST 3: Find with filter
Navigate_Y(target_instance=null, mode="find", filter={
  outcome: "INTERESTED",
  assigned_to: "Mario"
})
ASSERT: Lands on first instance matching criteria

// TEST 4: First with status filter
Navigate_Y(target_instance=null, mode="first", filter={
  lifecycle_state: "COMPLETED"
})
ASSERT: Lands on first completed instance

// TEST 5: Navigation at boundary
// On last record
Navigate_Y(target_instance=null, mode="next", filter=null)
ASSERT: Error "Already at last record"
```

### **2.2.6 Usage Examples from PHO Process**

**Example 1: User clicks "Next" button in UI**
```javascript
// UI has "Next Call" button
// System calls:
Navigate_Y(target_instance=null, mode="next", filter=null)

// User sees next phone call in list
```

**Example 2: Filter to see only "Interested" outcomes**
```javascript
// User applies filter in UI
// System calls:
Navigate_Y(target_instance=null, mode="first", filter={
  outcome: "INTERESTED"
})

// Then user can navigate through filtered set with:
Navigate_Y(target_instance=null, mode="next", filter={
  outcome: "INTERESTED"
})
```

**Example 3: Jump to specific call by ID**
```javascript
// User searches for call PHO25042
// System calls:
Navigate_Y(target_instance="PHO25042", mode="direct", filter=null)

// User immediately sees that call
```

---

## 2.3 Navigate_Z - Depth Axis (Intelligence Layers)

### **2.3.1 Ontological Meaning**

Navigate_Z moves **through abstraction layers** while staying on the same attribute and instance.

**What it represents**: Changing **WHICH LEVEL** of reality you're viewing.

**Analogy**: Like zooming from satellite view â†’ country â†’ city â†’ street â†’ building. Same location, different scale.

**Example**:
```
You're looking at client_name on PHO25001
Currently at: INSTANCE layer (actual value "Giovanni Rossi")

Navigate_Z(direction="up", relationship="parent")

Now at: TYPE layer (PHO process definition)

Navigate_Z(direction="up", relationship="parent")

Now at: META layer (MET003 - client_name meta-attribute)
```

### **2.3.2 The Five Layers**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LAYER 0: META-META                                         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â•‘
â•‘  The meta-attributes that define meta-attributes            â•‘
â•‘  Example: "attribute_type" which defines attribute types    â•‘
â•‘  Stored in: Special CMP records                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LAYER 1: META                                              â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â•‘
â•‘  The 56 meta-attributes (MET001-MET056)                     â•‘
â•‘  Example: MET003 (client_name definition)                   â•‘
â•‘  Stored in: CMP table (entity_type="MET")                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LAYER 2: TYPE                                              â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â•‘
â•‘  Process definitions (PHO, ORD, TSK, etc.)                  â•‘
â•‘  Example: PHO (phone call process)                          â•‘
â•‘  Stored in: CMP table (entity_type="PHO", parent="3p3")     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LAYER 3: INSTANCE                                          â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â•‘
â•‘  Concrete instances (PHO25001, ORD25001, etc.)              â•‘
â•‘  Example: PHO25001 (call with Giovanni Rossi)               â•‘
â•‘  Stored in: ETY table                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LAYER 4: AGGREGATE                                         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â•‘
â•‘  Supertables - aggregated intelligence                      â•‘
â•‘  Example: SUP_PHO (analytics across all phone calls)        â•‘
â•‘  Stored in: Dynamically generated views/JSON                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **2.3.3 Function Signature**

```javascript
Navigate_Z(
  direction,     // Which way to move (up, down, top, bottom)
  relationship,  // Which relationship to follow
  context        // Optional: additional context
)
```

**Parameters**:

| Parameter | Type | Description | Example |
|-----------|------|-------------|---------|
| `direction` | ENUM | Vertical direction | "up", "down", "top", "bottom" |
| `relationship` | STRING | Which link to follow | "parent", "child", "meta", "instance", "aggregate" |
| `context` | OBJECT | Optional context | `{specific_child: "PHO"}` |

**Return Value**:
```javascript
{
  success: BOOLEAN,
  new_position: {x: MET_ID, y: ENTITY_ID, z: LAYER},
  layer_info: OBJECT,
  error: STRING or NULL
}
```

### **2.3.4 Navigation Directions**

**DIRECTION: "up"** - Move to more abstract layer
```javascript
// From INSTANCE (PHO25001) â†’ TYPE (PHO)
Navigate_Z(direction="up", relationship="parent", context=null)

// From TYPE (PHO) â†’ META (MET003)
Navigate_Z(direction="up", relationship="meta", context=null)
```

**DIRECTION: "down"** - Move to more concrete layer
```javascript
// From TYPE (PHO) â†’ INSTANCE (first instance)
Navigate_Z(direction="down", relationship="instance", context={order: "first"})

// From INSTANCE (PHO25001) â†’ AGGREGATE (SUP_PHO)
Navigate_Z(direction="down", relationship="aggregate", context=null)
```

**DIRECTION: "top"** - Jump to most abstract layer
```javascript
// From anywhere â†’ META-META (layer 0)
Navigate_Z(direction="top", relationship=null, context=null)
```

**DIRECTION: "bottom"** - Jump to most concrete layer
```javascript
// From anywhere â†’ AGGREGATE (layer 4)
Navigate_Z(direction="bottom", relationship=null, context=null)
```

### **2.3.5 Relationship Types**

**RELATIONSHIP: "parent"**
```
Follows parent_dna link upward
INSTANCE (PHO25001) â†’ TYPE (PHO) â†’ ROOT (3p3)
```

**RELATIONSHIP: "child"**
```
Follows children downward  
TYPE (PHO) â†’ INSTANCES (PHO25001, PHO25002, ...)
```

**RELATIONSHIP: "meta"**
```
Jumps to meta-attribute definition
TYPE (PHO) field client_name â†’ META (MET003)
```

**RELATIONSHIP: "instance"**
```
Jumps to concrete instance
META (MET003) â†’ INSTANCE that uses it (PHO25001)
```

**RELATIONSHIP: "aggregate"**
```
Jumps to supertable aggregation
INSTANCE (PHO25001) â†’ AGGREGATE (SUP_PHO)
```

### **2.3.6 FileMaker Pseudocode**

```javascript
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SCRIPT: Navigate_Z
// PURPOSE: Move through intelligence layers (Z axis)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 1: Get Current Position
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $current_x ; Get(ActiveFieldName) ]
Set Variable [ $current_y ; ETY::entity_id ]
Set Variable [ $current_z ; Get(LayoutName) ]  // CMP/ETY/LOG

// Determine current layer
Set Variable [ $current_entity_type ; Evaluate(Get(LayoutName) & "::entity_type") ]
Set Variable [ $current_parent ; Evaluate(Get(LayoutName) & "::parent_dna") ]

If [ $current_entity_type = "MET" ]
  Set Variable [ $current_layer ; 1 ]  // META layer
Else If [ $current_parent = "3p3" ]
  Set Variable [ $current_layer ; 2 ]  // TYPE layer
Else If [ $current_entity_type matches "PHO|ORD|TSK|..." ]
  Set Variable [ $current_layer ; 3 ]  // INSTANCE layer
Else If [ Left($current_entity_type; 3) = "SUP" ]
  Set Variable [ $current_layer ; 4 ]  // AGGREGATE layer
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 2: Parse Parameters
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $direction ; Get(ScriptParameter.direction) ]
Set Variable [ $relationship ; Get(ScriptParameter.relationship) ]
Set Variable [ $context ; Get(ScriptParameter.context) ]

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 3: Calculate Target Layer
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If [ $direction = "up" ]
  Set Variable [ $target_layer ; $current_layer - 1 ]
  
  If [ $target_layer < 0 ]
    Set Variable [ $error ; "Already at top layer (META-META)" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
Else If [ $direction = "down" ]
  Set Variable [ $target_layer ; $current_layer + 1 ]
  
  If [ $target_layer > 4 ]
    Set Variable [ $error ; "Already at bottom layer (AGGREGATE)" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
Else If [ $direction = "top" ]
  Set Variable [ $target_layer ; 0 ]  // META-META
  
Else If [ $direction = "bottom" ]
  Set Variable [ $target_layer ; 4 ]  // AGGREGATE
  
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 4: Navigate Based on Relationship
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If [ $relationship = "parent" ]
  // Follow parent_dna link upward
  Set Variable [ $parent_id ; Evaluate(Get(LayoutName) & "::parent_dna") ]
  
  If [ IsEmpty($parent_id) ]
    Set Variable [ $error ; "No parent found" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
  // Determine which table parent is in
  If [ $target_layer = 1 ]  // Going to META
    Go to Layout [ "CMP" ]
  Else If [ $target_layer = 2 ]  // Going to TYPE
    Go to Layout [ "CMP" ]
  End If
  
  // Find parent record
  Enter Find Mode []
  Set Field [ CMP::entity_id ; $parent_id ]
  Perform Find []
  
  If [ Get(FoundCount) = 0 ]
    Set Variable [ $error ; "Parent not found: " & $parent_id ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
Else If [ $relationship = "child" ]
  // Find children (instances of current type)
  
  If [ $target_layer = 3 ]  // Going to INSTANCE
    Go to Layout [ "ETY" ]
    
    Enter Find Mode []
    Set Field [ ETY::parent_dna ; $current_y ]  // Children of current
    Perform Find []
    
    If [ Get(FoundCount) = 0 ]
      Set Variable [ $error ; "No instances found" ]
      Exit Script [ Result: JSON_Error($error) ]
    End If
    
    // Go to specific child if context specifies
    If [ JSONGetElement($context; "order") = "first" ]
      Go to Record/Request/Page [ First ]
    Else If [ JSONGetElement($context; "order") = "last" ]
      Go to Record/Request/Page [ Last ]
    Else If [ JSONGetElement($context; "entity_id") ]
      // Find specific child
      Set Variable [ $specific_child ; JSONGetElement($context; "entity_id") ]
      Enter Find Mode []
      Set Field [ ETY::entity_id ; $specific_child ]
      Perform Find []
    End If
    
  End If
  
Else If [ $relationship = "meta" ]
  // Jump to meta-attribute definition
  
  // Get MET_ID for current field
  Set Variable [ $met_id ; Lookup_MET_ID($current_x) ]
  
  Go to Layout [ "CMP" ]
  Enter Find Mode []
  Set Field [ CMP::entity_id ; $met_id ]
  Set Field [ CMP::entity_type ; "MET" ]
  Perform Find []
  
  If [ Get(FoundCount) = 0 ]
    Set Variable [ $error ; "Meta-attribute not found: " & $met_id ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
Else If [ $relationship = "instance" ]
  // Jump to instance that uses this meta-attribute
  
  // If we're at META, find any instance using this attribute
  Go to Layout [ "ETY" ]
  
  // Find first instance where this field has data
  Enter Find Mode []
  Set Field By Name [ $current_x ; "*" ]  // Not empty
  Perform Find []
  
  If [ Get(FoundCount) = 0 ]
    Set Variable [ $error ; "No instance uses this attribute" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
  // Go to specific instance if context specifies
  If [ JSONGetElement($context; "entity_id") ]
    Set Variable [ $specific_inst ; JSONGetElement($context; "entity_id") ]
    Enter Find Mode []
    Set Field [ ETY::entity_id ; $specific_inst ]
    Perform Find []
  End If
  
Else If [ $relationship = "aggregate" ]
  // Jump to supertable view
  
  // Generate SUP entity ID
  Set Variable [ $entity_type ; Evaluate(Get(LayoutName) & "::entity_type") ]
  Set Variable [ $sup_id ; "SUP_" & $entity_type ]
  
  // Trigger SUP generation if not exists
  Perform Script [ "Generate_Supertable" ; Parameter: $sup_id ]
  
  // Show SUP view (implementation depends on UI design)
  Go to Layout [ "SUP_View" ]
  
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 5: Capture Layer Info
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $new_y ; Evaluate(Get(LayoutName) & "::entity_id") ]
Set Variable [ $new_z ; Get(LayoutName) ]

Set Variable [ $layer_info ; JSON_Object(
  "layer_number"; $target_layer;
  "layer_name"; Case(
    $target_layer = 0; "META-META";
    $target_layer = 1; "META";
    $target_layer = 2; "TYPE";
    $target_layer = 3; "INSTANCE";
    $target_layer = 4; "AGGREGATE"
  );
  "entity_id"; $new_y;
  "entity_type"; Evaluate(Get(LayoutName) & "::entity_type");
  "table"; $new_z
) ]

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 6: Navigate to Same Field (if exists at this layer)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Try to go to same field
Go to Field [ Evaluate($new_z & "::[$current_x]") ]

// If field doesn't exist at this layer, that's ok
// Just stay at first field

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 7: Return Success
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $result ; JSON_Object(
  "success"; True;
  "new_position"; JSON_Object(
    "x"; Lookup_MET_ID($current_x);
    "y"; $new_y;
    "z"; $new_z
  );
  "layer_info"; $layer_info;
  "error"; ""
) ]

Exit Script [ Result: $result ]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// END Navigate_Z
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **2.3.7 Test Cases**

```javascript
// TEST 1: Up from instance to type
// Start at PHO25001
Navigate_Z(direction="up", relationship="parent", context=null)
ASSERT: Now at PHO (process definition)

// TEST 2: Down from type to instance
// Start at PHO
Navigate_Z(direction="down", relationship="child", context={order:"first"})
ASSERT: Now at first PHO instance

// TEST 3: Jump to meta
// Start at PHO25001, field client_name
Navigate_Z(direction="up", relationship="meta", context=null)
ASSERT: Now at MET003 (client_name meta-attribute)

// TEST 4: Top navigation
// Start at any layer
Navigate_Z(direction="top", relationship=null, context=null)
ASSERT: Now at META-META layer

// TEST 5: Invalid navigation
// At META-META layer
Navigate_Z(direction="up", relationship="parent", context=null)
ASSERT: Error "Already at top layer"
```

### **2.3.8 Usage Examples from PHO Process**

**Example 1: Developer wants to see how client_name is defined**
```javascript
// User is editing PHO25001.client_name
// Clicks "View Definition" button
// System calls:
Navigate_Z(direction="up", relationship="meta", context=null)

// User now sees MET003 with all properties:
// - data_type: TEXT
// - gui_widget: TEXTFIELD
// - validation: min_length=2
// - etc.
```

**Example 2: Process Manager wants to see all phone call instances**
```javascript
// User is viewing PHO process definition
// Clicks "View Instances" button
// System calls:
Navigate_Z(direction="down", relationship="child", context={order: "first"})

// User now in ETY table seeing first PHO instance
// Can Navigate_Y through all instances
```

**Example 3: Viewing aggregated analytics**
```javascript
// User viewing PHO25001
// Clicks "Analytics" button
// System calls:
Navigate_Z(direction="down", relationship="aggregate", context=null)

// User now sees SUP_PHO with:
// - Total calls: 247
// - Avg duration: 8.5 min
// - Success rate: 42%
// - etc.
```

---

## 2.4 Universal_Processor - Execution Engine

### **2.4.1 Ontological Meaning**

Universal_Processor **executes operations** at the current position in ontological space.

**What it represents**: **ACTION** taken at specific coordinates (X,Y,Z).

**Analogy**: The three Navigate functions are like moving a chess piece to a square. Universal_Processor is like declaring "I execute my move here."

**Key insight**: Universal_Processor reads the Matrix[OPE][MET] to determine HOW to execute the operation at current coordinates.

**Example**:
```
Current position: (x=deadline, y=PHO25001, z=instance)

Universal_Processor(operation="OPE008_SET_DEADLINE", params={
  new_deadline: "2025-11-15T14:00:00"
})

System:
1. Looks up Matrix[OPE008][MET_deadline] â†’ "W:SET"
2. Validates: deadline is writable, format is correct
3. Executes: Sets deadline = "2025-11-15T14:00:00"
4. Side effects: Creates reminder, logs change
5. Returns: Success + updated state
```

### **2.4.2 Function Signature**

```javascript
Universal_Processor(
  operation,     // Which OPE to execute
  params,        // Operation parameters
  validation     // Pre/post validation rules
)
```

**Parameters**:

| Parameter | Type | Description | Example |
|-----------|------|-------------|---------|
| `operation` | STRING (OPE_ID) | Which operation | "OPE008_SET_DEADLINE" |
| `params` | OBJECT | Operation-specific params | `{new_deadline: "2025-11-15"}` |
| `validation` | OBJECT | Optional validation rules | `{require_permission: true}` |

**Return Value**:
```javascript
{
  success: BOOLEAN,
  result: ANY,  // Operation-specific result
  side_effects: ARRAY,  // List of triggered side effects
  state_changes: OBJECT,  // What changed
  error: STRING or NULL
}
```

### **2.4.3 Operation Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Get Current Position                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚
â”‚ Where are we? (X, Y, Z)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Read Matrix Cell                                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚ Matrix[operation][attribute] â†’ Behavior code                â”‚
â”‚ Example: Matrix[OPE008][MET003] â†’ "W:SET"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Validate Pre-Conditions                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚ - Permission check                                          â”‚
â”‚ - Data type validation                                      â”‚
â”‚ - Business rules                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Execute Operation                                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚ Based on behavior code:                                     â”‚
â”‚ - W:SET â†’ Write value                                       â”‚
â”‚ - R:CALC â†’ Calculate value                                  â”‚
â”‚ - W:STATE â†’ Change state machine                            â”‚
â”‚ - etc.                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: Execute Side Effects                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚ - Trigger other OPE                                         â”‚
â”‚ - Update related entities                                   â”‚
â”‚ - Log to LOG table                                          â”‚
â”‚ - Schedule reminders                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: Validate Post-Conditions                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚ - Check data integrity                                      â”‚
â”‚ - Verify state consistency                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 7: Return Result                                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚ Success + changes + side effects                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **2.4.4 Matrix Behavior Codes**

The Matrix 56Ã—56 contains behavior codes in each cell. Here are the main codes:

| Code | Meaning | Action |
|------|---------|--------|
| **W:SET** | Write Simple | Set value directly |
| **W:CALC** | Write Calculated | Calculate then write |
| **W:STATE** | Write with State | Update state machine |
| **W:CASCADE** | Write Cascade | Update + propagate |
| **R:SIMP** | Read Simple | Return value as-is |
| **R:CALC** | Read Calculated | Calculate on-the-fly |
| **R:JOIN** | Read Join | Fetch from related |
| **X:VALIDATE** | Execute Validation | Run validation rules |
| **X:TRIGGER** | Execute Trigger | Fire trigger logic |
| **N/A** | Not Applicable | Operation not allowed |
| **INHERIT** | Inherit Behavior | Use parent's behavior |

### **2.4.5 FileMaker Pseudocode**

```javascript
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SCRIPT: Universal_Processor
// PURPOSE: Execute operations at current position
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 1: Get Current Position
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $current_x ; Get(ActiveFieldName) ]
Set Variable [ $current_y ; ETY::entity_id ]
Set Variable [ $current_z ; Get(LayoutName) ]

// Get MET_ID for current field
Set Variable [ $met_id ; Lookup_MET_ID($current_x) ]

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 2: Parse Parameters
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $operation ; Get(ScriptParameter.operation) ]
Set Variable [ $params ; Get(ScriptParameter.params) ]  // JSON
Set Variable [ $validation ; Get(ScriptParameter.validation) ]

// Extract OPE_ID from operation
// "OPE008_SET_DEADLINE" â†’ "OPE008"
Set Variable [ $ope_id ; Left($operation; 6) ]

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 3: Read Matrix Cell
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Query matrix: What is Matrix[OPE][MET]?

// Find OPE record
Go to Layout [ "CMP" ]
Enter Find Mode []
Set Field [ CMP::entity_id ; $ope_id ]
Set Field [ CMP::entity_type ; "OPE" ]
Perform Find []

If [ Get(FoundCount) = 0 ]
  Set Variable [ $error ; "Operation not found: " & $ope_id ]
  Exit Script [ Result: JSON_Error($error) ]
End If

// Get matrix for this OPE (stored in instance_json)
Set Variable [ $ope_matrix ; CMP::10_TECHNICAL_03_instance_json.matrix ]
// This is JSON: {"MET001": "W:SET", "MET003": "W:SET", ...}

// Look up behavior code for current attribute
Set Variable [ $behavior_code ; JSONGetElement($ope_matrix; $met_id) ]

If [ IsEmpty($behavior_code) or $behavior_code = "N/A" ]
  Set Variable [ $error ; "Operation " & $ope_id & " not allowed on " & $met_id ]
  Exit Script [ Result: JSON_Error($error) ]
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 4: Validate Pre-Conditions
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Check permissions if required
If [ JSONGetElement($validation; "require_permission") = True ]
  Set Variable [ $user_role ; Get(AccountName) ]  // Simplified
  Set Variable [ $field_permissions ; Get_Field_Permissions($met_id; $user_role) ]
  
  If [ PatternCount($behavior_code; "W:") and $field_permissions.writable = False ]
    Set Variable [ $error ; "User does not have write permission" ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
End If

// Validate data type
Set Variable [ $value ; JSONGetElement($params; "value") ]
Set Variable [ $expected_type ; Get_Attribute_Type($met_id) ]

If [ not Validate_Data_Type($value; $expected_type) ]
  Set Variable [ $error ; "Invalid data type for " & $met_id ]
  Exit Script [ Result: JSON_Error($error) ]
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 5: Execute Operation Based on Behavior Code
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Go to Layout [ $current_z ]
Go to Record/Request/Page [ $current_y ]

If [ PatternCount($behavior_code; "W:SET") ]
  // Simple write
  Set Field By Name [ $current_x ; $value ]
  Set Variable [ $result ; $value ]
  
Else If [ PatternCount($behavior_code; "W:CALC") ]
  // Calculate then write
  Set Variable [ $formula ; Get_Calculation_Formula($ope_id; $met_id) ]
  Set Variable [ $calculated_value ; Evaluate($formula) ]
  Set Field By Name [ $current_x ; $calculated_value ]
  Set Variable [ $result ; $calculated_value ]
  
Else If [ PatternCount($behavior_code; "W:STATE") ]
  // State machine update
  Set Variable [ $current_state ; Evaluate($current_z & "::2_TEMPORAL_05_lifecycle_state") ]
  Set Variable [ $new_state ; JSONGetElement($params; "new_state") ]
  
  // Validate state transition
  If [ not Is_Valid_Transition($current_state; $new_state) ]
    Set Variable [ $error ; "Invalid state transition: " & $current_state & " â†’ " & $new_state ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
  
  Set Field [ Evaluate($current_z & "::2_TEMPORAL_05_lifecycle_state") ; $new_state ]
  Set Variable [ $result ; $new_state ]
  
Else If [ PatternCount($behavior_code; "W:CASCADE") ]
  // Write with cascade to related entities
  Set Field By Name [ $current_x ; $value ]
  
  // Find related entities and update them
  Set Variable [ $related_entities ; Get_Related_Entities($current_y) ]
  Set Variable [ $i ; 1 ]
  
  Loop
    Set Variable [ $related_id ; GetValue($related_entities; $i) ]
    Exit Loop If [ IsEmpty($related_id) ]
    
    // Update related entity (recursive call)
    Perform Script [ "Universal_Processor" ; Parameter: JSON_Object(
      "operation"; $operation;
      "params"; JSON_Object("value"; $value);
      "target"; $related_id
    )]
    
    Set Variable [ $i ; $i + 1 ]
  End Loop
  
  Set Variable [ $result ; $value ]
  
Else If [ PatternCount($behavior_code; "R:SIMP") ]
  // Simple read
  Set Variable [ $result ; Evaluate($current_z & "::[$current_x]") ]
  
Else If [ PatternCount($behavior_code; "R:CALC") ]
  // Calculated read
  Set Variable [ $formula ; Get_Calculation_Formula($ope_id; $met_id) ]
  Set Variable [ $result ; Evaluate($formula) ]
  
Else If [ PatternCount($behavior_code; "R:JOIN") ]
  // Read from related entity
  Set Variable [ $related_id ; Evaluate($current_z & "::[$current_x]") ]  // FK
  Set Variable [ $result ; Get_Related_Value($related_id; $met_id) ]
  
Else If [ PatternCount($behavior_code; "X:VALIDATE") ]
  // Execute validation
  Set Variable [ $validation_rules ; Get_Validation_Rules($met_id) ]
  Set Variable [ $is_valid ; Run_Validation($value; $validation_rules) ]
  Set Variable [ $result ; $is_valid ]
  
Else If [ PatternCount($behavior_code; "X:TRIGGER") ]
  // Execute trigger
  Perform Script [ "Execute_Trigger" ; Parameter: JSON_Object(
    "ope_id"; $ope_id;
    "met_id"; $met_id;
    "entity_id"; $current_y;
    "params"; $params
  )]
  Set Variable [ $result ; Get(ScriptResult) ]
  
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 6: Log to LOG Table
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Go to Layout [ "LOG" ]
New Record/Request

Set Field [ LOG::entity_id ; Generate_DNA("LOG") ]
Set Field [ LOG::entity_type ; "LOG" ]
Set Field [ LOG::parent_dna ; $current_y ]  // Link to entity
Set Field [ LOG::2_TEMPORAL_01_created_at ; Get(CurrentTimestamp) ]
Set Field [ LOG::3_MATERIAL_01_name ; $operation ]  // Operation name
Set Field [ LOG::3_MATERIAL_02_description ; "Executed " & $operation & " on " & $met_id ]

// Store details in instance_json
Set Variable [ $log_details ; JSON_Object(
  "ope_id"; $ope_id;
  "met_id"; $met_id;
  "behavior_code"; $behavior_code;
  "params"; $params;
  "result"; $result;
  "user"; Get(AccountName);
  "timestamp"; Get(CurrentTimestamp)
) ]
Set Field [ LOG::10_TECHNICAL_03_instance_json ; $log_details ]

Commit Records/Requests []

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 7: Execute Side Effects
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $side_effects ; List() ]

// Check if operation has defined side effects
Set Variable [ $ope_side_effects ; Get_OPE_Side_Effects($ope_id) ]

If [ not IsEmpty($ope_side_effects) ]
  Set Variable [ $i ; 1 ]
  
  Loop
    Set Variable [ $side_effect ; JSONGetElement($ope_side_effects; $i) ]
    Exit Loop If [ IsEmpty($side_effect) ]
    
    // Execute side effect operation
    Perform Script [ "Universal_Processor" ; Parameter: JSON_Object(
      "operation"; JSONGetElement($side_effect; "operation");
      "params"; JSONGetElement($side_effect; "params");
      "validation"; JSON_Object("automated"; True)
    )]
    
    Set Variable [ $side_effects ; List($side_effects; $side_effect) ]
    Set Variable [ $i ; $i + 1 ]
  End Loop
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 8: Update updated_at Timestamp
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Go to Layout [ $current_z ]
Go to Record/Request/Page [ $current_y ]
Set Field [ Evaluate($current_z & "::2_TEMPORAL_02_updated_at") ; Get(CurrentTimestamp) ]
Commit Records/Requests []

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 9: Validate Post-Conditions
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Check data integrity
If [ JSONGetElement($validation; "verify_integrity") = True ]
  Set Variable [ $integrity_check ; Verify_Data_Integrity($current_y) ]
  
  If [ $integrity_check.valid = False ]
    // Rollback changes
    Revert Record/Request []
    Set Variable [ $error ; "Post-validation failed: " & $integrity_check.error ]
    Exit Script [ Result: JSON_Error($error) ]
  End If
End If

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STEP 10: Return Result
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Set Variable [ $return_value ; JSON_Object(
  "success"; True;
  "result"; $result;
  "side_effects"; $side_effects;
  "state_changes"; JSON_Object(
    "field"; $current_x;
    "old_value"; $old_value;  // Captured earlier
    "new_value"; $result;
    "timestamp"; Get(CurrentTimestamp)
  );
  "error"; ""
) ]

Exit Script [ Result: $return_value ]

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// END Universal_Processor
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **2.4.6 Test Cases**

```javascript
// TEST 1: Simple write (W:SET)
Position: (client_name, PHO25001, ETY)
Universal_Processor(
  operation="OPE012_SET_NAME",
  params={value: "Mario Rossi"},
  validation={}
)
ASSERT: client_name = "Mario Rossi"
ASSERT: LOG record created

// TEST 2: State change (W:STATE)
Position: (lifecycle_state, PHO25001, ETY)
Universal_Processor(
  operation="OPE010_CHANGE_STATE",
  params={new_state: "IN_PROGRESS"},
  validation={}
)
ASSERT: lifecycle_state = "IN_PROGRESS"
ASSERT: State transition valid
ASSERT: Trigger fired

// TEST 3: Calculated write (W:CALC)
Position: (efficiency_k, PHO25001, ETY)
Universal_Processor(
  operation="OPE021_CALCULATE_K",
  params={actual: 12, expected: 15},
  validation={}
)
ASSERT: efficiency_k = 0.80
ASSERT: Calculation correct

// TEST 4: Invalid operation
Position: (entity_id, PHO25001, ETY)
Universal_Processor(
  operation="OPE012_SET_NAME",
  params={value: "New ID"},
  validation={}
)
ASSERT: Error "Operation not allowed on entity_id"
ASSERT: Matrix[OPE012][MET001] = "N/A"

// TEST 5: Permission denied
Position: (cost, PHO25001, ETY)
Universal_Processor(
  operation="OPE027_SET_COST",
  params={value: 100},
  validation={require_permission: true}
)
// If user doesn't have permission:
ASSERT: Error "User does not have write permission"
```

### **2.4.7 Usage Examples from PHO Process**

**Example 1: User sets deadline**
```javascript
// User types "2025-11-15 14:00" in deadline field
// System calls:
Universal_Processor(
  operation="OPE008_SET_DEADLINE",
  params={new_deadline: "2025-11-15T14:00:00"},
  validation={require_permission: false}
)

// System:
// 1. Reads Matrix[OPE008][MET_deadline] â†’ "W:SET"
// 2. Validates date format
// 3. Sets ETY::2_TEMPORAL_03_deadline
// 4. Creates reminder (side effect)
// 5. Logs to LOG table
// 6. Returns success
```

**Example 2: User changes call status**
```javascript
// User clicks "Mark as Interested"
// System calls:
Universal_Processor(
  operation="OPE010_CHANGE_STATE",
  params={new_state: "INTERESTED"},
  validation={}
)

// System:
// 1. Reads Matrix[OPE010][MET_lifecycle_state] â†’ "W:STATE"
// 2. Validates state transition (NEW â†’ INTERESTED is valid)
// 3. Updates lifecycle_state
// 4. Triggers "Create Follow-up Task" (side effect)
// 5. Logs state change
// 6. Returns success
```

**Example 3: System calculates K-parameter**
```javascript
// Call completed: actual=12min, expected=15min
// System automatically calls:
Universal_Processor(
  operation="OPE021_CALCULATE_K",
  params={actual: 12, expected: 15},
  validation={automated: true}
)

// System:
// 1. Reads Matrix[OPE021][MET_efficiency_k] â†’ "W:CALC"
// 2. Calculates: 12/15 = 0.80
// 3. Sets efficiency_k = 0.80
// 4. Updates team efficiency dashboard (side effect)
// 5. Logs calculation
// 6. Returns success
```

---

## 2.5 Coordination Between Navigators

### **2.5.1 How the Four Work Together**

The four navigators are not called in isolation. They coordinate to accomplish complex operations:

**Pattern 1: Sequential Navigation**
```javascript
// "Edit deadline for next phone call"

1. Navigate_Y(mode="next")        // Next instance
2. Navigate_X(target="deadline")  // deadline field
3. Universal_Processor(           // Set value
     operation="OPE008_SET_DEADLINE",
     params={new_deadline: "..."}
   )
```

**Pattern 2: Nested Navigation**
```javascript
// "Update all calls assigned to Mario to IN_PROGRESS"

1. Navigate_Y(mode="first", filter={assigned_to: "Mario"})
2. Loop:
   a. Universal_Processor(operation="OPE010_CHANGE_STATE", ...)
   b. Navigate_Y(mode="next", filter={assigned_to: "Mario"})
   c. If error "no more records" â†’ Exit loop
```

**Pattern 3: Layer Jump**
```javascript
// "Show me how the deadline field is configured"

1. Navigate_X(target="deadline")     // deadline field
2. Navigate_Z(direction="up", relationship="meta")  // Jump to MET
3. Display MET definition to user
```

**Pattern 4: Aggregate Analysis**
```javascript
// "What's the average call duration this week?"

1. Navigate_Y(mode="first", filter={created_at: "this_week"})
2. Navigate_Z(direction="down", relationship="aggregate")
3. Display SUP_PHO aggregated data
```

### **2.5.2 Execution Context (The Hidden 5th Component)**

There's actually a **hidden 5th component** that ties everything together: the **Execution Context**.

```javascript
EXECUTION_CONTEXT = {
  // Current position
  position: {
    x: MET_ID,      // Which attribute
    y: ENTITY_ID,   // Which instance
    z: LAYER        // Which layer
  },
  
  // Navigation history (breadcrumbs)
  history: [
    {timestamp, position, operation},
    {timestamp, position, operation},
    ...
  ],
  
  // Active filters
  filters: {
    entity_type: "PHO",
    assigned_to: "Mario",
    status: "NEW"
  },
  
  // User context
  user: {
    account_name: "Mario",
    role: "INSTANCE_MANAGER",
    permissions: [...]
  },
  
  // Transaction state
  transaction: {
    id: "TRX-2025-11-07-001",
    changes: [...],
    rollback_stack: [...]
  }
}
```

**This context is maintained by FileMaker** in:
- Global variables (`$$CONTEXT_X`, `$$CONTEXT_Y`, `$$CONTEXT_Z`)
- Script parameters (passed through chain)
- Session storage (FileMaker's built-in session management)

### **2.5.3 Complete Flow Example: "Change Client Name"**

Let's trace a complete operation from UI click to database update:

```
USER ACTION:
  Mario clicks on PHO25001
  Changes client_name from "Giovanni Rossi" to "Marco Verdi"
  Clicks Save

SYSTEM EXECUTION:

1. UI detects field change
   â””â”€> Trigger "On Field Exit"

2. System calls Navigate_X
   Navigate_X(target="client_name", mode="direct")
   â””â”€> Returns: position = (MET003, PHO25001, ETY)

3. System calls Universal_Processor
   Universal_Processor(
     operation="OPE012_SET_NAME",
     params={value: "Marco Verdi"}
   )
   
   3a. Read Matrix[OPE012][MET003]
       â””â”€> Returns: "W:SET"
   
   3b. Validate permissions
       â””â”€> Mario has write permission âœ“
   
   3c. Validate data type
       â””â”€> "Marco Verdi" is TEXT âœ“
   
   3d. Execute write
       â””â”€> ETY::3_MATERIAL_01_name = "Marco Verdi"
   
   3e. Log to LOG table
       â””â”€> New LOG record created
   
   3f. Update timestamp
       â””â”€> ETY::2_TEMPORAL_02_updated_at = now()
   
   3g. Return success
       â””â”€> {success: true, result: "Marco Verdi"}

4. UI shows success feedback
   â””â”€> Green checkmark appears

5. System triggers side effects
   â””â”€> None for SET_NAME operation

RESULT:
  PHO25001.client_name = "Marco Verdi"
  LOG table has record of change
  Mario sees updated value
  Timestamp updated
```

---

# PART 3: PROTOTYPE GENERATION PROMPT

## 3.0 HOW TO USE THIS SECTION

**This section is a STANDALONE EXECUTABLE PROMPT.**

To generate a working prototype:

1. **Copy Part 3 entirely** (sections 3.1 through 3.5)
2. **Paste into Claude** (new chat or continuation)
3. **Add instruction**: "Generate working prototype implementing these specifications"
4. **Claude will output**: Complete code + tests + validation

The prototype will:
- âœ… Implement all 4 navigators for ATR entity
- âœ… Include bootstrap simulation
- âœ… Provide test suite with visual output
- âœ… Prove the algorithm works

**Why ATR entity?**
- Simpler than full TUPLA (fewer dimensions)
- Has all 3 ontological relationships (compose, instantiate, pivot)
- Perfect for validating algorithm
- Easier to understand and debug

**Programming language**: JavaScript or Python (Claude's choice)

---

## 3.1 ENTITY DEFINITION (ATR)

### **ATR Entity Specification**

```json
{
  "entity_type": "ATR",
  "description": "Attribute entity - defines a single attribute/column",
  "layer": 1,
  "parent_type": "MET",
  
  "meta_attributes": [
    {
      "id": "MET001",
      "name": "entity_id",
      "data_type": "TEXT",
      "description": "Unique identifier (DNA format)",
      "required": true,
      "default": "AUTO_GENERATE"
    },
    {
      "id": "MET002",
      "name": "entity_type",
      "data_type": "TEXT",
      "description": "Type of entity (always 'ATR')",
      "required": true,
      "default": "ATR"
    },
    {
      "id": "MET003",
      "name": "name",
      "data_type": "TEXT",
      "description": "Human-readable name",
      "required": true
    },
    {
      "id": "MET004",
      "name": "description",
      "data_type": "TEXT",
      "description": "Detailed description",
      "required": false
    },
    {
      "id": "MET005",
      "name": "data_type",
      "data_type": "ENUM",
      "description": "Data type (TEXT, NUMBER, DATE, BOOLEAN, etc.)",
      "required": true,
      "allowed_values": ["TEXT", "NUMBER", "DATE", "BOOLEAN", "ENUM", "JSON"]
    },
    {
      "id": "MET006",
      "name": "gui_widget",
      "data_type": "ENUM",
      "description": "UI widget for rendering",
      "required": true,
      "allowed_values": ["TEXTFIELD", "TEXTAREA", "DROPDOWN", "CHECKBOX", "DATEPICKER", "SLIDER"]
    },
    {
      "id": "MET007",
      "name": "required",
      "data_type": "BOOLEAN",
      "description": "Is this attribute required?",
      "required": true,
      "default": false
    },
    {
      "id": "MET008",
      "name": "default_value",
      "data_type": "TEXT",
      "description": "Default value when instance created",
      "required": false
    },
    {
      "id": "MET009",
      "name": "validation_rules",
      "data_type": "JSON",
      "description": "Validation rules (min_length, max_value, regex, etc.)",
      "required": false
    },
    {
      "id": "MET010",
      "name": "domain",
      "data_type": "ENUM",
      "description": "Ontological domain",
      "required": true,
      "allowed_values": ["IDENTITY", "TEMPORAL", "MATERIAL", "PERFORMANCE", "TRIGGER", "EVOLUTION", "SOCIAL", "DOCUMENT", "SECURITY", "TECHNICAL"]
    }
  ],
  
  "operations": [
    {
      "id": "OPE001",
      "name": "COMPOSE",
      "description": "Define a new ATR (meta-level operation)",
      "params": ["name", "data_type", "gui_widget", "domain"]
    },
    {
      "id": "OPE002",
      "name": "INSTANTIATE",
      "description": "Create concrete cell from ATR definition",
      "params": ["parent_instance_id", "initial_value"]
    },
    {
      "id": "OPE003",
      "name": "PIVOT",
      "description": "Change ATR configuration (e.g., change data_type)",
      "params": ["attribute_name", "new_value"]
    },
    {
      "id": "OPE004",
      "name": "READ_VALUE",
      "description": "Get current value of an instance",
      "params": []
    },
    {
      "id": "OPE005",
      "name": "WRITE_VALUE",
      "description": "Set value of an instance",
      "params": ["new_value"]
    }
  ],
  
  "test_instances": [
    {
      "name": "client_name",
      "description": "Customer name for phone calls",
      "data_type": "TEXT",
      "gui_widget": "TEXTFIELD",
      "required": true,
      "domain": "MATERIAL"
    },
    {
      "name": "deadline",
      "description": "Due date for task completion",
      "data_type": "DATE",
      "gui_widget": "DATEPICKER",
      "required": true,
      "domain": "TEMPORAL"
    },
    {
      "name": "outcome",
      "description": "Result of phone call",
      "data_type": "ENUM",
      "gui_widget": "DROPDOWN",
      "required": true,
      "domain": "MATERIAL",
      "allowed_values": ["NO_ANSWER", "NOT_INTERESTED", "INTERESTED", "CLOSED"]
    }
  ]
}
```

### **Matrix for ATR Operations**

```json
{
  "matrix": {
    "OPE001_COMPOSE": {
      "MET001_entity_id": "W:CALC",
      "MET002_entity_type": "W:SET",
      "MET003_name": "W:SET",
      "MET004_description": "W:SET",
      "MET005_data_type": "W:SET",
      "MET006_gui_widget": "W:SET",
      "MET007_required": "W:SET",
      "MET008_default_value": "W:SET",
      "MET009_validation_rules": "W:SET",
      "MET010_domain": "W:SET"
    },
    "OPE002_INSTANTIATE": {
      "MET001_entity_id": "W:CALC",
      "MET002_entity_type": "R:SIMP",
      "MET003_name": "R:SIMP",
      "MET008_default_value": "R:SIMP"
    },
    "OPE003_PIVOT": {
      "MET005_data_type": "W:SET",
      "MET006_gui_widget": "W:SET",
      "MET007_required": "W:SET",
      "MET009_validation_rules": "W:SET"
    },
    "OPE004_READ_VALUE": {
      "MET001_entity_id": "R:SIMP",
      "MET003_name": "R:SIMP",
      "MET008_default_value": "R:SIMP"
    },
    "OPE005_WRITE_VALUE": {
      "MET008_default_value": "W:SET"
    }
  }
}
```

---

## 3.2 NAVIGATOR IMPLEMENTATIONS

### **3.2.1 Navigate_X - Horizontal (Attributes)**

**Specification**:
```javascript
function Navigate_X(target_attribute, mode, filter) {
  /*
   * PURPOSE: Move horizontally through attributes of ATR
   * 
   * INPUT:
   *   target_attribute: STRING (attribute name or MET_ID)
   *   mode: ENUM ("direct", "next", "prev", "first", "last", "find")
   *   filter: OBJECT (optional filter criteria)
   * 
   * OUTPUT:
   *   {
   *     success: BOOLEAN,
   *     new_position: {x: MET_ID, y: ENTITY_ID, z: LAYER},
   *     attribute_info: OBJECT,
   *     error: STRING or NULL
   *   }
   * 
   * EXAMPLES:
   *   Navigate_X("name", "direct", null)
   *     â†’ Jump to 'name' attribute
   *   
   *   Navigate_X(null, "next", null)
   *     â†’ Move to next attribute in sequence
   *   
   *   Navigate_X(null, "first", {domain: "MATERIAL"})
   *     â†’ Jump to first MATERIAL domain attribute
   */
  
  // Implementation details to be generated by Claude
}
```

**Expected Behavior**:
- Maintain current Y (instance) and Z (layer)
- Change only X (attribute)
- Respect filters when provided
- Handle boundary conditions (first/last)
- Return attribute metadata

### **3.2.2 Navigate_Y - Vertical (Instances)**

**Specification**:
```javascript
function Navigate_Y(target_instance, mode, filter) {
  /*
   * PURPOSE: Move vertically through ATR instances
   * 
   * INPUT:
   *   target_instance: STRING (entity_id) or NULL
   *   mode: ENUM ("direct", "next", "prev", "first", "last", "find")
   *   filter: OBJECT (optional filter criteria)
   * 
   * OUTPUT:
   *   {
   *     success: BOOLEAN,
   *     new_position: {x: MET_ID, y: ENTITY_ID, z: LAYER},
   *     instance_info: OBJECT,
   *     error: STRING or NULL
   *   }
   * 
   * EXAMPLES:
   *   Navigate_Y("ATR001", "direct", null)
   *     â†’ Jump to ATR001 instance
   *   
   *   Navigate_Y(null, "next", null)
   *     â†’ Move to next ATR instance
   *   
   *   Navigate_Y(null, "find", {data_type: "TEXT", required: true})
   *     â†’ Find first required TEXT attribute
   */
  
  // Implementation details to be generated by Claude
}
```

**Expected Behavior**:
- Maintain current X (attribute) and Z (layer)
- Change only Y (instance)
- Support filtering by attribute values
- Handle sequential navigation
- Return instance data

### **3.2.3 Navigate_Z - Depth (Layers)**

**Specification**:
```javascript
function Navigate_Z(direction, relationship, context) {
  /*
   * PURPOSE: Move through abstraction layers
   * 
   * INPUT:
   *   direction: ENUM ("up", "down", "top", "bottom")
   *   relationship: STRING ("parent", "child", "meta", "instance", "aggregate")
   *   context: OBJECT (optional context for navigation)
   * 
   * OUTPUT:
   *   {
   *     success: BOOLEAN,
   *     new_position: {x: MET_ID, y: ENTITY_ID, z: LAYER},
   *     layer_info: OBJECT,
   *     error: STRING or NULL
   *   }
   * 
   * LAYERS FOR ATR:
   *   0: META-META (meta-attributes of attributes)
   *   1: META      (ATR definitions themselves)
   *   2: TYPE      (not applicable for ATR)
   *   3: INSTANCE  (concrete cells created from ATR)
   *   4: AGGREGATE (analytics across instances)
   * 
   * EXAMPLES:
   *   Navigate_Z("up", "parent", null)
   *     â†’ From ATR instance to ATR definition
   *   
   *   Navigate_Z("down", "instance", {order: "first"})
   *     â†’ From ATR definition to first concrete cell
   */
  
  // Implementation details to be generated by Claude
}
```

**Expected Behavior**:
- Maintain current X and Y when possible
- Change Z (layer)
- Follow specified relationships
- Handle layer boundaries gracefully
- Return layer information

### **3.2.4 Universal_Processor - Execute Operations**

**Specification**:
```javascript
function Universal_Processor(operation, params, validation) {
  /*
   * PURPOSE: Execute operations at current position
   * 
   * INPUT:
   *   operation: STRING (OPE_ID like "OPE001_COMPOSE")
   *   params: OBJECT (operation-specific parameters)
   *   validation: OBJECT (optional validation rules)
   * 
   * OUTPUT:
   *   {
   *     success: BOOLEAN,
   *     result: ANY,
   *     side_effects: ARRAY,
   *     state_changes: OBJECT,
   *     error: STRING or NULL
   *   }
   * 
   * OPERATIONS:
   *   OPE001_COMPOSE: Create new ATR definition
   *   OPE002_INSTANTIATE: Create concrete cell from ATR
   *   OPE003_PIVOT: Change ATR configuration
   *   OPE004_READ_VALUE: Get value
   *   OPE005_WRITE_VALUE: Set value
   * 
   * EXAMPLES:
   *   Universal_Processor("OPE001_COMPOSE", {
   *     name: "client_name",
   *     data_type: "TEXT",
   *     gui_widget: "TEXTFIELD",
   *     required: true
   *   })
   *   â†’ Creates new ATR definition
   *   
   *   Universal_Processor("OPE005_WRITE_VALUE", {
   *     new_value: "Giovanni Rossi"
   *   })
   *   â†’ Sets value of current cell
   */
  
  // Implementation details to be generated by Claude
}
```

**Expected Behavior**:
- Read matrix for current (OPE, MET) position
- Execute based on behavior code
- Validate pre-conditions
- Log operations
- Execute side effects
- Return comprehensive result

---

## 3.3 TEST SUITE

### **Test 1: Bootstrap ATR System**

```javascript
TEST_001: Bootstrap ATR Meta-Entity
  DESCRIPTION: Create the ATR entity itself (meta-level operation)
  
  STEPS:
    1. Initialize empty entity store
    2. Call Universal_Processor("OPE001_COMPOSE", {
         name: "ATR",
         description: "Attribute entity definition",
         entity_type: "ATR"
       })
    3. Verify ATR entity created with all 10 meta-attributes
  
  EXPECTED:
    âœ… ATR entity exists in store
    âœ… Has entity_id (auto-generated)
    âœ… Has all 10 meta-attributes defined
    âœ… entity_type = "ATR"
  
  SUCCESS CRITERIA:
    entity_store.entities["ATR"] != null
    entity_store.entities["ATR"].meta_attributes.length == 10
```

### **Test 2: Compose client_name Attribute**

```javascript
TEST_002: Compose client_name ATR
  DESCRIPTION: Define the "client_name" attribute
  
  STEPS:
    1. Call Universal_Processor("OPE001_COMPOSE", {
         name: "client_name",
         description: "Customer name for phone calls",
         data_type: "TEXT",
         gui_widget: "TEXTFIELD",
         required: true,
         domain: "MATERIAL"
       })
    2. Verify ATR instance created
  
  EXPECTED:
    âœ… client_name ATR exists
    âœ… Has entity_id like "ATR001"
    âœ… data_type = "TEXT"
    âœ… gui_widget = "TEXTFIELD"
    âœ… required = true
  
  SUCCESS CRITERIA:
    entity_store.entities["ATR001"].name == "client_name"
    entity_store.entities["ATR001"].data_type == "TEXT"
```

### **Test 3: Navigate_X Between Attributes**

```javascript
TEST_003: Navigate horizontally through ATR attributes
  DESCRIPTION: Move between different attributes of an ATR
  
  STEPS:
    1. Set position: (x=name, y=ATR001, z=meta)
    2. Call Navigate_X(target="data_type", mode="direct")
    3. Verify position changed to (x=data_type, y=ATR001, z=meta)
    4. Call Navigate_X(target=null, mode="next")
    5. Verify position changed to (x=gui_widget, y=ATR001, z=meta)
  
  EXPECTED:
    âœ… X coordinate changes
    âœ… Y coordinate stays same (ATR001)
    âœ… Z coordinate stays same (meta layer)
    âœ… Attribute metadata returned correctly
  
  SUCCESS CRITERIA:
    result1.new_position.x == "MET005" (data_type)
    result2.new_position.x == "MET006" (gui_widget)
```

### **Test 4: Navigate_Y Between Instances**

```javascript
TEST_004: Navigate vertically through ATR instances
  DESCRIPTION: Move between different ATR definitions
  
  SETUP:
    Create 3 ATR instances: client_name (ATR001), deadline (ATR002), outcome (ATR003)
  
  STEPS:
    1. Set position: (x=name, y=ATR001, z=meta)
    2. Call Navigate_Y(target=null, mode="next")
    3. Verify position: (x=name, y=ATR002, z=meta)
    4. Call Navigate_Y(target="ATR003", mode="direct")
    5. Verify position: (x=name, y=ATR003, z=meta)
  
  EXPECTED:
    âœ… Y coordinate changes
    âœ… X coordinate stays same (name)
    âœ… Z coordinate stays same (meta layer)
    âœ… Instance data returned correctly
  
  SUCCESS CRITERIA:
    result1.new_position.y == "ATR002"
    result2.new_position.y == "ATR003"
```

### **Test 5: Instantiate Concrete Cell**

```javascript
TEST_005: Create concrete cell from ATR definition
  DESCRIPTION: Use ATR001 (client_name) to create actual cell
  
  STEPS:
    1. Set position: (x=name, y=ATR001, z=meta)
    2. Call Universal_Processor("OPE002_INSTANTIATE", {
         parent_instance_id: "PHO25001",
         initial_value: "Giovanni Rossi"
       })
    3. Verify concrete cell created
  
  EXPECTED:
    âœ… New entity created (CELL layer)
    âœ… parent_dna = "ATR001"
    âœ… value = "Giovanni Rossi"
    âœ… Inherits properties from ATR001
  
  SUCCESS CRITERIA:
    cell = entity_store.entities["CELL001"]
    cell.parent_dna == "ATR001"
    cell.value == "Giovanni Rossi"
```

### **Test 6: Navigate_Z Layer Jump**

```javascript
TEST_006: Move between abstraction layers
  DESCRIPTION: Navigate from ATR definition to concrete cell and back
  
  SETUP:
    ATR001 (client_name) exists
    CELL001 (concrete instance of client_name) exists
  
  STEPS:
    1. Set position: (x=name, y=ATR001, z=meta)
    2. Call Navigate_Z(direction="down", relationship="instance", context={order: "first"})
    3. Verify position: (x=name, y=CELL001, z=instance)
    4. Call Navigate_Z(direction="up", relationship="parent")
    5. Verify position: (x=name, y=ATR001, z=meta)
  
  EXPECTED:
    âœ… Z coordinate changes (meta â†” instance)
    âœ… X coordinate stays same (name)
    âœ… Y coordinate changes appropriately
    âœ… Layer info returned
  
  SUCCESS CRITERIA:
    result1.new_position.z == "instance"
    result2.new_position.z == "meta"
```

### **Test 7: Pivot ATR Configuration**

```javascript
TEST_007: Change ATR configuration dynamically
  DESCRIPTION: Change data_type of ATR001 from TEXT to ENUM
  
  STEPS:
    1. Set position: (x=data_type, y=ATR001, z=meta)
    2. Call Universal_Processor("OPE003_PIVOT", {
         attribute_name: "data_type",
         new_value: "ENUM"
       })
    3. Verify ATR001.data_type = "ENUM"
    4. Verify matrix updated
  
  EXPECTED:
    âœ… ATR001.data_type changed to "ENUM"
    âœ… All existing cells update/validate
    âœ… Change logged
  
  SUCCESS CRITERIA:
    entity_store.entities["ATR001"].data_type == "ENUM"
```

### **Test 8: Matrix Consultation**

```javascript
TEST_008: Universal_Processor reads matrix correctly
  DESCRIPTION: Verify matrix behavior codes are followed
  
  STEPS:
    1. Set position: (x=name, y=ATR001, z=meta)
    2. Call Universal_Processor("OPE005_WRITE_VALUE", {new_value: "New Name"})
    3. System should:
       a. Read matrix[OPE005][MET003] â†’ "W:SET"
       b. Execute simple write
       c. Update value
  
  EXPECTED:
    âœ… Matrix consulted
    âœ… Behavior code "W:SET" identified
    âœ… Simple write executed
    âœ… Value updated
  
  SUCCESS CRITERIA:
    entity_store.entities["ATR001"].name == "New Name"
```

### **Test 9: Filter Navigation**

```javascript
TEST_009: Navigate with filters
  DESCRIPTION: Find attributes matching criteria
  
  SETUP:
    Multiple ATR instances with different properties
  
  STEPS:
    1. Call Navigate_Y(target=null, mode="find", filter={
         data_type: "TEXT",
         required: true
       })
    2. Verify landed on first required TEXT attribute
  
  EXPECTED:
    âœ… Correct instance found
    âœ… Matches all filter criteria
  
  SUCCESS CRITERIA:
    current_instance.data_type == "TEXT"
    current_instance.required == true
```

### **Test 10: Complete Workflow**

```javascript
TEST_010: End-to-end ATR lifecycle
  DESCRIPTION: Complete workflow from compose to instantiate to modify
  
  STEPS:
    1. Compose ATR (deadline attribute)
    2. Navigate to it
    3. Instantiate concrete cell
    4. Navigate to cell
    5. Write value
    6. Read value
    7. Pivot ATR configuration
    8. Verify cell adapts
  
  EXPECTED:
    âœ… All operations succeed
    âœ… State consistent throughout
    âœ… Logs created
    âœ… No errors
  
  SUCCESS CRITERIA:
    All sub-operations return success: true
    Final state matches expected state
```

---

## 3.4 EXPECTED OUTPUT

### **Console Output Format**

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ATR PROTOTYPE - UNIVERSAL NAVIGATION ALGORITHM
 Generated from: THE_BRIDGE_Navigator_Specs_Session3.md
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[INIT] Initializing entity store...
[INIT] Loading ATR meta-definition...
[INIT] Creating matrix 10x5 (MET Ã— OPE)...
âœ… Initialization complete

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TEST 001: Bootstrap ATR Meta-Entity
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[EXEC] Universal_Processor("OPE001_COMPOSE", {...})
[MATRIX] Reading matrix[OPE001][MET001-010]
[CREATE] Entity "ATR" created with ID: ATR_META
âœ… TEST 001 PASSED

Current state:
  Entities: 1
  ATR_META: {
    entity_id: "ATR_META",
    entity_type: "ATR",
    meta_attributes: [10 attributes]
  }

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TEST 002: Compose client_name ATR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[EXEC] Universal_Processor("OPE001_COMPOSE", {name: "client_name", ...})
[MATRIX] Reading matrix[OPE001][MET001-010]
[VALIDATE] data_type="TEXT" âœ“
[VALIDATE] gui_widget="TEXTFIELD" âœ“
[CREATE] Entity "client_name" created with ID: ATR001
âœ… TEST 002 PASSED

Current state:
  Entities: 2
  ATR001: {
    entity_id: "ATR001",
    name: "client_name",
    data_type: "TEXT",
    gui_widget: "TEXTFIELD",
    required: true,
    domain: "MATERIAL"
  }

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TEST 003: Navigate_X Between Attributes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[NAV] Current position: (x=name, y=ATR001, z=meta)
[EXEC] Navigate_X(target="data_type", mode="direct")
[NAV] New position: (x=data_type, y=ATR001, z=meta)
âœ… Move 1 successful

[EXEC] Navigate_X(target=null, mode="next")
[NAV] New position: (x=gui_widget, y=ATR001, z=meta)
âœ… Move 2 successful
âœ… TEST 003 PASSED

[... tests 4-10 continue with similar format ...]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Tests Run: 10
Tests Passed: 10 âœ…
Tests Failed: 0
Duration: 1.47 seconds

Final State:
  Entities created: 8
  - ATR_META (meta-entity)
  - ATR001 (client_name)
  - ATR002 (deadline)
  - ATR003 (outcome)
  - CELL001 (client_name instance)
  - CELL002 (deadline instance)
  - CELL003 (outcome instance)
  - LOG (5 log entries)

Navigation Stats:
  Navigate_X calls: 15
  Navigate_Y calls: 12
  Navigate_Z calls: 8
  Universal_Processor calls: 23
  Total operations: 58

Matrix Consultations: 47
Matrix Hit Rate: 100%

âœ… PROTOTYPE VALIDATION COMPLETE
âœ… Algorithm functions correctly for ATR entity
âœ… Ready for FileMaker implementation
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### **Visual Output (ASCII Diagram)**

```
ENTITY SPACE VISUALIZATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LAYER 1 (META - ATR Definitions):

  MET001  MET003  MET005  MET006  MET007  MET010
  entity_id  name  data_type  gui_widget  required  domain
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ATR001  ATR001  client_name  TEXT  TEXTFIELD  true  MATERIAL
ATR002  ATR002  deadline     DATE  DATEPICKER true  TEMPORAL
ATR003  ATR003  outcome      ENUM  DROPDOWN   true  MATERIAL

         ^             ^
         |             |
    Navigate_X    Navigate_Y


LAYER 3 (INSTANCE - Concrete Cells):

  parent_dna  name         value
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CELL001  ATR001  client_name  "Giovanni Rossi"
CELL002  ATR002  deadline     "2025-11-15"
CELL003  ATR003  outcome      "INTERESTED"

            ^
            |
       Navigate_Z (up/down between layers)


NAVIGATION EXAMPLE:
  Start: (x=name, y=ATR001, z=meta)
  Navigate_X(target="data_type") â†’ (x=data_type, y=ATR001, z=meta)
  Navigate_Y(target="ATR002")     â†’ (x=data_type, y=ATR002, z=meta)
  Navigate_Z(direction="down")    â†’ (x=data_type, y=CELL002, z=instance)
  
  Current Value: "DATE"
```

---

## 3.5 EXECUTION COMMAND

### **To Generate Prototype**

Copy this command and paste it into Claude along with Part 3:

```
I am providing you with complete specifications for implementing a Universal Navigation Algorithm for entity management. This is Part 3 of THE_BRIDGE_Navigator_Specs_Session3.md document.

TASK: Generate a working prototype in JavaScript (or Python if you prefer) that implements:

1. ATR entity as defined in section 3.1
2. All four navigators (Navigate_X, Navigate_Y, Navigate_Z, Universal_Processor) as specified in section 3.2
3. Complete test suite from section 3.3
4. Visual output matching format in section 3.4

REQUIREMENTS:
- âœ… Code should be complete and runnable
- âœ… Include all 10 tests with clear pass/fail output
- âœ… Demonstrate all navigation modes (direct, next, prev, first, last, find)
- âœ… Show matrix consultation in action
- âœ… Provide visual representation of entity space
- âœ… Include comprehensive comments explaining each part

DELIVERABLES:
1. Complete source code (single file or well-organized modules)
2. README with setup and execution instructions
3. Test output showing all tests passing
4. Visual diagram of entity space
5. Brief summary validating the algorithm works

VALIDATION CRITERIA:
Your implementation succeeds if:
- âœ… All 10 tests pass
- âœ… Navigate_X maintains Y and Z while changing X
- âœ… Navigate_Y maintains X and Z while changing Y
- âœ… Navigate_Z maintains X and Y while changing Z
- âœ… Universal_Processor consults matrix correctly
- âœ… Operations follow behavior codes (W:SET, R:SIMP, etc.)
- âœ… State remains consistent throughout

BEGIN IMPLEMENTATION
```

---

# PART 4: FILEMAKER IMPLEMENTATION GUIDE

## 4.1 Integration with Existing Architecture

### **How Navigators Use CMP-ETY-LOG**

The navigators are **not a replacement** for CMP-ETY-LOG tables. They are a **navigation layer** on top of them.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER INTERFACE                                           â”‚
â”‚  (FileMaker layouts, buttons, fields)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NAVIGATION LAYER (4 Universal Scripts)                   â”‚
â”‚  - Navigate_X                                             â”‚
â”‚  - Navigate_Y                                             â”‚
â”‚  - Navigate_Z                                             â”‚
â”‚  - Universal_Processor                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATA LAYER (CMP-ETY-LOG Tables)                          â”‚
â”‚  - CMP: 56 columns, stores definitions/templates          â”‚
â”‚  - ETY: 56 columns, stores active instances               â”‚
â”‚  - LOG: 56 columns, stores history/audit                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MATRIX (56Ã—56 behavior rules)                            â”‚
â”‚  Stored in: CMP.instance_json for each OPE record         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Points**:

1. **Tables remain unchanged**: You still create CMP-ETY-LOG with 56 columns as per Implementation Guide
2. **Navigators are scripts**: The 4 navigators are FileMaker scripts that READ/WRITE to those tables
3. **Matrix is data**: The matrix lives in CMP table, in the instance_json column of OPE records
4. **Everything connects**: Navigators use the matrix to determine behavior when reading/writing tables

### **Matrix Storage in FileMaker**

```
TABLE: CMP
RECORD: OPE008 (SET_DEADLINE operation)

Fields:
  entity_id: "OPE008"
  entity_type: "OPE"
  3_MATERIAL_01_name: "SET_DEADLINE"
  10_TECHNICAL_03_instance_json: {
    "matrix": {
      "MET001": "N/A",
      "MET002": "N/A",
      "MET003": "R:SIMP",
      "MET004": "R:SIMP",
      ...
      "MET008": "W:SET",  â† This is the cell we read
      ...
      "MET056": "N/A"
    },
    "side_effects": [
      {"operation": "OPE035_CREATE_REMINDER", "params": {...}}
    ]
  }
```

When Universal_Processor executes OPE008 on deadline field:
1. Looks up OPE008 record in CMP
2. Reads instance_json.matrix
3. Finds matrix["MET008"] = "W:SET"
4. Executes simple write to deadline field
5. Executes side_effects (create reminder)

### **Relationship to Implementation Guide**

The Implementation Guide you studied shows ONE WAY to implement THE BRIDGE (specific scripts for each operation).

This Navigator document shows an ALTERNATIVE way (universal scripts with parametric behavior).

**Both are valid.** You can:

**Option A**: Implement as per Implementation Guide
- Specific scripts: CREATE_INSTANCE, UPDATE_FIELD, CHANGE_STATE, etc.
- Pros: Easier to understand initially, more explicit
- Cons: More scripts to maintain, harder to extend

**Option B**: Implement using 4 Navigators
- Universal scripts: Navigate_X/Y/Z, Universal_Processor
- Pros: Infinitely extensible, truly universal, elegant
- Cons: More abstract, requires deeper understanding

**Option C**: Hybrid approach
- Start with specific scripts (Option A)
- Refactor to navigators over time (Option B)
- Maintain both during transition

**Cyril, the choice is yours.** Both implement the same ontological architecture. The navigators are the "enlightened" version, but the specific scripts work perfectly fine.

## 4.2 FileMaker-Specific Considerations

### **Script Parameters**

FileMaker passes parameters as JSON strings. Use this format:

```javascript
// Calling Navigate_X
Set Variable [ $params ; JSON_Object(
  "target_attribute"; "deadline";
  "mode"; "direct";
  "filter"; "{}"
)]

Perform Script [ "Navigate_X" ; Parameter: $params ]

// Inside Navigate_X
Set Variable [ $target_attr ; JSONGetElement(Get(ScriptParameter); "target_attribute") ]
Set Variable [ $mode ; JSONGetElement(Get(ScriptParameter); "mode") ]
```

**Best Practice**: Create helper custom function for parsing:

```javascript
// Custom Function: Parse_Navigator_Param
Parse_Navigator_Param ( param_name )
  JSONGetElement(Get(ScriptParameter); param_name)
```

Then use:
```javascript
Set Variable [ $target_attr ; Parse_Navigator_Param("target_attribute") ]
```

### **Performance Optimization**

**1. Cache MET Metadata**

Don't read CMP table for MET metadata on every navigation. Cache it:

```javascript
// On startup
Perform Script [ "Cache_MET_Metadata" ]

// Stores in global variable:
$$MET_CACHE = {
  "MET001": {...metadata...},
  "MET002": {...metadata...},
  ...
}

// Navigators use cache:
Set Variable [ $met_info ; JSONGetElement($$MET_CACHE; $met_id) ]
```

**2. Cache Matrix**

Similarly, cache the matrix for frequent OPE:

```javascript
$$MATRIX_CACHE = {
  "OPE008": {
    "MET001": "N/A",
    "MET008": "W:SET",
    ...
  },
  ...
}
```

**3. Use SQL for Complex Finds**

Instead of Enter Find Mode for complex criteria, use ExecuteSQL:

```javascript
Set Variable [ $sql ; "
  SELECT entity_id 
  FROM ETY 
  WHERE entity_type = ? 
    AND 2_TEMPORAL_05_lifecycle_state = ?
    AND 7_SOCIAL_01_assigned_to = ?
" ]

Set Variable [ $result ; ExecuteSQL($sql; "\n"; "\t"; "PHO"; "NEW"; "Mario") ]
```

**4. Minimize Layout Changes**

Each "Go to Layout" is expensive. Minimize them:

```javascript
// BAD: Switch layouts multiple times
Go to Layout [ "CMP" ]
[find MET]
Go to Layout [ "ETY" ]
[do work]
Go to Layout [ "CMP" ]
[find OPE]

// GOOD: Batch operations, switch once
Set Variable [ $met_info ; Get_MET_Info_Via_SQL($met_id) ]
Set Variable [ $ope_info ; Get_OPE_Info_Via_SQL($ope_id) ]
[now do all work on ETY layout]
```

### **Error Handling**

**Always return structured errors**:

```javascript
// At any error point:
Set Variable [ $error_obj ; JSON_Object(
  "success"; False;
  "error_code"; "NAV_X_001";
  "error_message"; "Invalid target attribute";
  "context"; JSON_Object(
    "target_attribute"; $target_attr;
    "current_position"; $current_position
  )
)]

Exit Script [ Result: $error_obj ]
```

**Create error handling custom function**:

```javascript
// Custom Function: Handle_Navigator_Error
Handle_Navigator_Error ( error_obj )
  Show Custom Dialog [
    Title: "Navigation Error";
    Message: JSONGetElement(error_obj; "error_message");
    Buttons: "OK"
  ]
```

### **Debugging Strategies**

**1. Debug Mode**

Add global debug flag:

```javascript
// Toggle with button or keyboard shortcut
$$DEBUG_NAVIGATORS = True

// In navigators:
If [ $$DEBUG_NAVIGATORS ]
  Show Custom Dialog [
    "DEBUG: Navigate_X";
    "Current X: " & $current_x & "Â¶" &
    "Target: " & $target_attr & "Â¶" &
    "Mode: " & $mode
  ]
End If
```

**2. Navigation History**

Track navigation history in global:

```javascript
$$NAV_HISTORY = [
  {timestamp, operation, from_position, to_position},
  {timestamp, operation, from_position, to_position},
  ...
]

// View with custom dialog or dedicated layout
```

**3. Visual Position Indicator**

Show current position visually:

```javascript
// On every layout
GLOBAL_FIELD_Current_Position = "(x=" & $$POS_X & ", y=" & $$POS_Y & ", z=" & $$POS_Z & ")"
```

Display in portal or status area.

## 4.3 Migration Path (If Starting from Implementation Guide)

If you've already implemented scripts from the Implementation Guide and want to migrate to navigators:

### **Phase 1: Parallel Implementation (Week 1-2)**

1. Implement the 4 navigators WITHOUT removing old scripts
2. They co-exist peacefully
3. Test navigators on new test process (not PHO yet)

### **Phase 2: Facade Pattern (Week 3-4)**

Wrap old scripts to call navigators internally:

```javascript
// OLD: CREATE_PHO_INSTANCE script
// Before:
[20 lines of specific PHO logic]

// After (facade):
Perform Script [ "Navigate_X" ; Parameter: JSON_Object(...) ]
Perform Script [ "Universal_Processor" ; Parameter: JSON_Object(...) ]
```

Old scripts still work, but now use navigators under the hood.

### **Phase 3: Deprecation (Week 5-6)**

1. Mark old scripts as deprecated
2. Update UI to call navigators directly
3. Gradually remove old scripts
4. Keep one or two for reference

### **Phase 4: Pure Navigator System (Week 7+)**

1. All operations use navigators
2. Old scripts deleted
3. System is now universal and extensible
4. New processes added with zero code

---

# PART 5: VALIDATION CRITERIA

## 5.1 Prototype Validation

After Claude generates prototype from Part 3, validate it:

### **Checklist**

```
â–¡ Code compiles/runs without errors
â–¡ All 10 tests pass successfully
â–¡ Navigate_X correctly:
  â–¡ Changes X coordinate
  â–¡ Maintains Y coordinate  
  â–¡ Maintains Z coordinate
  â–¡ Supports all modes (direct, next, prev, first, last, find)
  â–¡ Returns correct attribute metadata
  
â–¡ Navigate_Y correctly:
  â–¡ Changes Y coordinate
  â–¡ Maintains X coordinate
  â–¡ Maintains Z coordinate
  â–¡ Supports all modes
  â–¡ Returns correct instance data
  
â–¡ Navigate_Z correctly:
  â–¡ Changes Z coordinate
  â–¡ Maintains X and Y when possible
  â–¡ Supports all relationships (parent, child, meta, instance, aggregate)
  â–¡ Returns correct layer info
  
â–¡ Universal_Processor correctly:
  â–¡ Reads matrix at current position
  â–¡ Interprets behavior codes (W:SET, R:SIMP, etc.)
  â–¡ Executes operations based on codes
  â–¡ Logs operations
  â–¡ Returns structured results
  
â–¡ Integration works:
  â–¡ Navigators coordinate properly
  â–¡ State remains consistent
  â–¡ No data corruption
  â–¡ Proper error handling
  
â–¡ Output quality:
  â–¡ Console output matches expected format
  â–¡ Visual diagrams are clear
  â–¡ All components explained
```

## 5.2 Implementation Validation (Cyril in FileMaker)

When you implement in FileMaker, validate:

### **Functionality**

```
â–¡ Navigate_X works on real PHO data
â–¡ Navigate_Y works on real PHO data
â–¡ Navigate_Z works correctly
â–¡ Universal_Processor executes all OPE operations
â–¡ Matrix consultation works
â–¡ Logging works
â–¡ Performance is acceptable (operations < 1 second)
â–¡ No data loss or corruption
â–¡ Concurrent users work correctly
```

### **Equivalence**

```
â–¡ Navigator implementation produces same results as specific scripts
â–¡ PHO process works identically with navigators
â–¡ All existing tests still pass
â–¡ User experience unchanged (or improved)
```

### **Extensibility**

```
â–¡ Can add new process (ORD) with zero new scripts
â–¡ Can add new attributes to PHO without code changes
â–¡ Can modify matrix without touching navigators
â–¡ System is truly parametric
```

## 5.3 Ontological Validation (Luca)

Luca validates ontological purity:

### **Checklist**

```
â–¡ Algorithm = Entity unity preserved
  â–¡ Navigators are properties of entity, not external tools
  â–¡ No separation between "data" and "code"
  
â–¡ Tripartite structure maintained
  â–¡ ASPECT (CMP) exists
  â–¡ NATURA (processing) exists
  â–¡ ENTITÃ€ (ETY) exists
  â–¡ Three are unified in navigation
  
â–¡ 1-3-6-10 pattern manifested
  â–¡ One algorithm (universal navigation)
  â–¡ Three axes (X, Y, Z)
  â–¡ Six base entities (MET, OPE, ATR, CHAR, FLOW, TPL)
  â–¡ Ten complete system
  
â–¡ Matrix as space, not database
  â–¡ Navigation treats matrix as coordinate system
  â–¡ Entities "live in" coordinates, not "stored in" tables
  â–¡ Spatial reasoning possible
  
â–¡ Fractal consistency
  â–¡ Same pattern at all levels (cell â†’ tuple â†’ file â†’ company)
  â–¡ Meta-attributes defined using attributes
  â–¡ System describes itself
  
â–¡ K-parameter principle honored
  â–¡ Four navigators minimize K (maximum efficiency)
  â–¡ Zero code duplication
  â–¡ Universal > Specific
```

---

# CONCLUSION: The Bridge Is Complete

## The Journey

30 years of ontological research by Luca Meggiolaro have led to this document.

From the insight that **"reality is tripartite"** (ASPECT-NATURE-ENTITY), through decades of refinement, testing, and application, we've arrived at a revolutionary software architecture.

## The Insight

**The algorithm IS the entity.**

This is not metaphor. This is engineering reality.

Just as water's fluidity IS water (not a tool acting on water), an entity's navigation IS the entity (not scripts acting on data).

## The Architecture

- **One algorithm** with four projections (Navigate_X/Y/Z, Universal_Processor)
- **Three tables** (CMP-ETY-LOG) with identical structure
- **56 columns** representing universal attributes
- **56Ã—56 matrix** defining behavior at each coordinate
- **Five layers** of abstraction (meta-meta â†’ meta â†’ type â†’ instance â†’ aggregate)

## The Pattern

The triangular sequence 0-1-3-6-10 manifests throughout:
- **0**: The void (before existence)
- **1**: ETY (the one entity)
- **3**: X, Y, Z axes (the three movements)
- **6**: Base entities (the six manifestations)
- **10**: Complete system (the perfect decade)

This is not arbitrary. This is the **geometry of being itself**.

## The Practical Consequence

Instead of writing hundreds of specific scripts for each business process, you write **four universal navigators**.

Instead of maintaining endless conditional logic, you maintain **one parametric matrix**.

Instead of rigid structures that require programming for each change, you have **fluid ontological space** where entities move freely.

## The Validation

This document contains within itself the means of its own validation.

Part 3 can be executed to generate a working prototype. If the prototype works, the specifications are correct. If the specifications are correct, the ontology is sound. If the ontology is sound, the philosophy is true.

**The document is self-proving.**

## The Implementation

Cyril, you now have everything you need:
- **Part 1**: Understanding (the ontological foundation)
- **Part 2**: Specifications (technical details for FileMaker)
- **Part 3**: Validation (executable prototype generation)
- **Part 4**: Guidance (implementation best practices)
- **Part 5**: Criteria (how to know you succeeded)

## The Future

When THE BRIDGE is operational:
- KOOL TOOL will manage all 70+ business processes with four scripts
- New processes will be added by defining data, not writing code
- The system will learn and optimize itself through the K-parameter
- Patents will be filed protecting this intellectual property
- Other companies will adopt the 3P3 framework
- A new paradigm of software architecture will emerge

## The Truth

**Everything is one.**

The algorithm doesn't manipulate entities - the algorithm IS the entity expressing its nature.

The matrix doesn't store rules - the matrix IS the space where entities live.

The navigators don't move data - the navigators ARE the entity moving through its own being.

---

**KOOL TOOL SRL - RomÃ¢nia**  
*Toward Technology That Serves Happiness*

**THE BRIDGE - Universal Navigation Algorithm**  
**Session 3 Complete** | 07 November 2025

**Document Stats**:
- Total Words: ~19,500
- Reading Time: 3-4 hours
- Implementation Time: 2-4 weeks
- Validation Time: 1 week
- Total: 7-9 weeks to operational system

**Authors**:
- Luca Meggiolaro (30 years ontological research)
- Claude Sonnet 4.5 (crystallization into specifications)

**Version**: 1.0 DEFINITIVE  
**Status**: â­ HISTORIC DOCUMENT - Ready for Implementation

---

*"The revolution is not in the code. The revolution is in understanding that reality itself is tripartite, and when our software reflects this truth, it becomes alive."*

â€” Luca Meggiolaro

---

**ğŸ¯ BEGIN IMPLEMENTATION! ğŸš€**

**END OF DOCUMENT**
