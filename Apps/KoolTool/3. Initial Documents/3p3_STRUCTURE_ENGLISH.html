<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3P3 - Fractal Ontological Composition</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%);
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    .header h1 {
      font-size: 2.5em;
      color: #1e293b;
      margin-bottom: 10px;
    }
    .header p {
      font-size: 1.2em;
      color: #64748b;
    }
    .tabs {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
    }
    .tab {
      flex: 1;
      padding: 20px;
      background: white;
      border: none;
      border-radius: 12px;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      color: #64748b;
    }
    .tab:hover {
      background: #f1f5f9;
    }
    .tab.active {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      color: white;
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
    }
    .tab.active.tab-supertable {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      box-shadow: 0 10px 25px rgba(245, 158, 11, 0.3);
    }
    .tab.active.tab-cosmos {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
    }
    .content {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.1);
      display: none;
    }
    .content.active {
      display: block;
    }
    .entity-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 30px;
    }
    .entity-card {
      border: 3px solid;
      border-radius: 15px;
      padding: 25px;
      text-align: center;
    }
    .entity-card.atr { border-color: #3b82f6; }
    .entity-card.tpl { border-color: #ef4444; }
    .entity-card.sup { border-color: #fbbf24; }
    .entity-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin: 0 auto 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5em;
      font-weight: bold;
    }
    .entity-icon.atr { background: #3b82f6; }
    .entity-icon.tpl { background: #ef4444; }
    .entity-icon.sup { background: #fbbf24; }
    .component-list {
      margin-top: 15px;
    }
    .component-item {
      padding: 8px;
      margin: 5px 0;
      border-radius: 6px;
      font-size: 0.9em;
    }
    .component-item.atr { background: rgba(59, 130, 246, 0.1); color: #1e40af; }
    .component-item.tpl { background: rgba(239, 68, 68, 0.1); color: #991b1b; }
    .component-item.sup { background: rgba(251, 191, 36, 0.1); color: #92400e; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th {
      background: #f59e0b;
      color: white;
      padding: 12px;
      text-align: left;
      font-weight: bold;
    }
    td {
      padding: 12px;
      border-bottom: 1px solid #e2e8f0;
    }
    tr:hover {
      background: #fef3c7;
    }
    .info-box {
      background: #dbeafe;
      border-left: 4px solid #3b82f6;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .attr-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 15px;
    }
    .attr-card {
      padding: 15px;
      border-radius: 8px;
      border: 2px solid;
    }
    .attr-card.universal {
      background: #f0f9ff;
      border-color: #0ea5e9;
    }
    .attr-card.specific {
      background: #dbeafe;
      border-color: #3b82f6;
    }
    .form-container {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      padding: 30px;
      border-radius: 12px;
      border: 3px solid #f59e0b;
      margin-top: 20px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      font-weight: bold;
      color: #78350f;
      margin-bottom: 8px;
      font-size: 0.95em;
    }
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 2px solid #d97706;
      border-radius: 8px;
      font-size: 1em;
    }
    .form-button {
      width: 100%;
      padding: 15px;
      background: #f59e0b;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    .form-button:hover {
      background: #d97706;
      transform: scale(1.02);
    }
    .cosmos-container {
      background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
      border-radius: 20px;
      padding: 40px;
      color: white;
    }
    .legend-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin-top: 30px;
    }
    .legend-item {
      background: rgba(0,0,0,0.3);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid;
      text-align: center;
    }
    .legend-dot {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      margin: 0 auto 10px;
    }
    .step-header {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      color: white;
      padding: 15px 25px;
      border-radius: 10px;
      margin: 30px 0 20px 0;
      font-size: 1.3em;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üéØ 3P3 - Fractal Ontological Composition</h1>
      <p>Theory + Practice + Vision</p>
    </div>

    <div class="tabs">
      <button class="tab active" onclick="showTab('fractal')">
        üìê TAB 1: FRACTAL MAP
      </button>
      <button class="tab tab-supertable" onclick="showTab('supertable')">
        üìä TAB 2: LIVE SUPERTABLE
      </button>
      <button class="tab tab-cosmos" onclick="showTab('cosmos')">
        üåå TAB 3: ONTOLOGICAL MAP
      </button>
    </div>

    <!-- TAB 1: FRACTAL MAP -->
    <div id="fractal" class="content active">
      <h2 style="font-size: 2em; margin-bottom: 20px; color: #1e293b;">üìê Ontological Map: ATR - TPL - SUP</h2>
      
      <div class="info-box">
        <strong style="font-size: 1.1em;">üìê UNIVERSAL LAW:</strong><br>
        Every entity (ATR, TPL, SUP) is COMPLETE and always contains:<br>
        <strong>ASPECT (blue) + NATURE (red) + ENTITY (yellow)</strong><br>
        The color of the outer circle defines the entity TYPE.
      </div>

      <div class="entity-cards">
        <!-- ATR Card -->
        <div class="entity-card atr">
          <div class="entity-icon atr">ATR</div>
          <h3 style="margin-bottom: 10px; color: #1e40af;">ATR - Attribute</h3>
          <p style="font-size: 0.9em; color: #64748b; margin-bottom: 15px;">ASPECT (Components Realm)</p>
          <div class="component-list">
            <div class="component-item atr">1. MET - Meta-Attribute (ASPECT)</div>
            <div class="component-item atr">2. OPE - Operation (NATURE)</div>
            <div class="component-item atr">3. ATR - Attribute üîÑ (ENTITY)</div>
          </div>
          <div style="margin-top: 15px; padding: 10px; background: #fef3c7; border-radius: 6px; font-size: 0.85em; color: #92400e;">
            <strong>Formula:</strong> MET + OPE ‚Üí ATR
          </div>
        </div>

        <!-- TPL Card -->
        <div class="entity-card tpl">
          <div class="entity-icon tpl">TPL</div>
          <h3 style="margin-bottom: 10px; color: #991b1b;">TPL - Template</h3>
          <p style="font-size: 0.9em; color: #64748b; margin-bottom: 15px;">NATURE (Processes Realm)</p>
          <div class="component-list">
            <div class="component-item tpl">1. CHAR - Characteristic (ASPECT)</div>
            <div class="component-item tpl">2. FLOW - Flow (NATURE)</div>
            <div class="component-item tpl">3. TPL - Template üîÑ (ENTITY)</div>
          </div>
          <div style="margin-top: 15px; padding: 10px; background: #fef3c7; border-radius: 6px; font-size: 0.85em; color: #92400e;">
            <strong>Formula:</strong> CHAR + FLOW ‚Üí TPL
          </div>
        </div>

        <!-- SUP Card -->
        <div class="entity-card sup">
          <div class="entity-icon sup">SUP</div>
          <h3 style="margin-bottom: 10px; color: #92400e;">SUP - SuperTable</h3>
          <p style="font-size: 0.9em; color: #64748b; margin-bottom: 15px;">ENTITY (Manifestation Realm)</p>
          <div class="component-list">
            <div class="component-item sup">1. INFO - Information (ASPECT)</div>
            <div class="component-item sup">2. GUI - Interface (NATURE)</div>
            <div class="component-item sup">3. SUP - SuperTable üîÑ (ENTITY)</div>
          </div>
          <div style="margin-top: 15px; padding: 10px; background: #fef3c7; border-radius: 6px; font-size: 0.85em; color: #92400e;">
            <strong>Formula:</strong> INFO + GUI ‚Üí SUP
          </div>
        </div>
      </div>

      <div style="margin-top: 30px; padding: 20px; background: #fef3c7; border-radius: 10px; border-left: 4px solid #f59e0b;">
        <strong style="color: #92400e;">üîÑ INFINITE RECURSION:</strong><br>
        <span style="color: #78350f;">Every component can be expanded and contains the same tripartite structure! Fractal pattern that repeats identically at every level.</span>
      </div>
    </div>

    <!-- TAB 2: SUPERTABLE -->
    <div id="supertable" class="content">
      <h2 style="font-size: 2em; margin-bottom: 20px; color: #1e293b;">üìä SuperTable: From Attributes to Complete System</h2>
      
      <!-- STEP 1: Attributes Definition -->
      <div class="step-header">
        üîπ STEP 1: Attributes Definition
      </div>

      <div style="background: #f0f9ff; padding: 20px; border-radius: 10px; border: 2px solid #0ea5e9; margin-bottom: 20px;">
        <h3 style="color: #0c4a6e; margin-bottom: 15px;">üìå Universal Attributes (56 MET - 3 examples shown):</h3>
        <div class="attr-grid">
          <div class="attr-card universal">
            <strong style="color: #0c4a6e;">dna_id</strong><br>
            <span style="font-size: 0.85em; color: #075985;">Unique entity identifier (TEXT, Required)</span>
          </div>
          <div class="attr-card universal">
            <strong style="color: #0c4a6e;">entity_type</strong><br>
            <span style="font-size: 0.85em; color: #075985;">Entity type classification (ENUM, Required)</span>
          </div>
          <div class="attr-card universal">
            <strong style="color: #0c4a6e;">created_at</strong><br>
            <span style="font-size: 0.85em; color: #075985;">Creation timestamp (DATETIME, Required)</span>
          </div>
        </div>
        <div style="margin-top: 12px; padding: 10px; background: white; border-radius: 6px; text-align: center; font-size: 0.9em; color: #0369a1;">
          <strong>+ 53 more universal attributes...</strong> (lifecycle_state, name, deadline, assigned_to, cost, priority, etc.)
        </div>
      </div>

      <div style="background: #dbeafe; padding: 20px; border-radius: 10px; border: 2px solid #3b82f6;">
        <h3 style="color: #1e40af; margin-bottom: 15px;">‚ö° Specific Attributes (4 ATR for PHO entity):</h3>
        <div class="attr-grid">
          <div class="attr-card specific">
            <strong style="color: #1e40af;">caller_name</strong><br>
            <span style="font-size: 0.85em; color: #1e40af;">Caller's name (TEXT, Required)</span>
          </div>
          <div class="attr-card specific">
            <strong style="color: #1e40af;">phone_number</strong><br>
            <span style="font-size: 0.85em; color: #1e40af;">Phone number (TEXT, Required)</span>
          </div>
          <div class="attr-card specific">
            <strong style="color: #1e40af;">deadline</strong><br>
            <span style="font-size: 0.85em; color: #1e40af;">Follow-up deadline (DATE, Optional)</span>
          </div>
          <div class="attr-card specific">
            <strong style="color: #1e40af;">category</strong><br>
            <span style="font-size: 0.85em; color: #1e40af;">Call category (ENUM, Required)</span>
          </div>
        </div>
      </div>

      <!-- STEP 2: Auto-Generated GUI -->
      <div class="step-header" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
        üîπ STEP 2: Auto-Generated Interface (GUI/TUPLA)
      </div>

      <div class="form-container">
        <h3 style="color: #92400e; margin-bottom: 20px; text-align: center;">
          üìù Phone Call Template (Auto-Generated from Attributes)
        </h3>

        <div class="form-group">
          <label>Caller's Name <span style="color: #dc2626;">*</span></label>
          <input type="text" placeholder="Enter caller's name" value="">
        </div>

        <div class="form-group">
          <label>Phone Number <span style="color: #dc2626;">*</span></label>
          <input type="text" placeholder="+39 XXX XXXXXXX" value="">
        </div>

        <div class="form-group">
          <label>Follow-up Deadline</label>
          <input type="date" value="">
        </div>

        <div class="form-group">
          <label>Category <span style="color: #dc2626;">*</span></label>
          <select>
            <option value="">-- Select category --</option>
            <option value="SALES">SALES</option>
            <option value="SUPPORT">SUPPORT</option>
            <option value="INFO">INFO</option>
            <option value="COMPLAINT">COMPLAINT</option>
          </select>
        </div>

        <button class="form-button">‚úÖ Save Phone Call</button>

        <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.8); border-radius: 8px; text-align: center; font-size: 0.9em; color: #78350f;">
          <strong>üí° This form was automatically generated</strong> from 4 specific attributes + 56 universal attributes!
        </div>
      </div>

      <!-- STEP 3: SuperTable with Data -->
      <div class="step-header" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
        üîπ STEP 3: SuperTable with 10 PHO Instances
      </div>

      <table>
        <thead>
          <tr>
            <th>DNA_ID</th>
            <th>caller_name</th>
            <th>phone_number</th>
            <th>deadline</th>
            <th>category</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25001</td>
            <td>Mario Rossi</td>
            <td style="font-family: monospace;">+39 320 1234567</td>
            <td>2025-11-20</td>
            <td><span style="background: #d1fae5; color: #065f46; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">SALES</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25002</td>
            <td>Laura Bianchi</td>
            <td style="font-family: monospace;">+39 347 7654321</td>
            <td>2025-11-18</td>
            <td><span style="background: #dbeafe; color: #1e40af; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">SUPPORT</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25003</td>
            <td>Giuseppe Verdi</td>
            <td style="font-family: monospace;">+39 333 9876543</td>
            <td style="color: #94a3b8;">-</td>
            <td><span style="background: #f3f4f6; color: #4b5563; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">INFO</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25004</td>
            <td>Anna Neri</td>
            <td style="font-family: monospace;">+39 380 5551234</td>
            <td>2025-11-22</td>
            <td><span style="background: #d1fae5; color: #065f46; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">SALES</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25005</td>
            <td>Paolo Gialli</td>
            <td style="font-family: monospace;">+39 392 4443210</td>
            <td>2025-11-19</td>
            <td><span style="background: #fee2e2; color: #991b1b; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">COMPLAINT</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25006</td>
            <td>Sofia Blu</td>
            <td style="font-family: monospace;">+39 348 7778888</td>
            <td style="color: #94a3b8;">-</td>
            <td><span style="background: #f3f4f6; color: #4b5563; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">INFO</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25007</td>
            <td>Marco Viola</td>
            <td style="font-family: monospace;">+39 377 2223344</td>
            <td>2025-11-25</td>
            <td><span style="background: #d1fae5; color: #065f46; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">SALES</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25008</td>
            <td>Elena Rosa</td>
            <td style="font-family: monospace;">+39 345 9990000</td>
            <td>2025-11-21</td>
            <td><span style="background: #dbeafe; color: #1e40af; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">SUPPORT</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25009</td>
            <td>Andrea Arancio</td>
            <td style="font-family: monospace;">+39 366 1112233</td>
            <td>2025-11-17</td>
            <td><span style="background: #d1fae5; color: #065f46; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">SALES</span></td>
          </tr>
          <tr>
            <td style="font-weight: bold; color: #2563eb;">PHO25010</td>
            <td>Chiara Verde</td>
            <td style="font-family: monospace;">+39 389 4445566</td>
            <td style="color: #94a3b8;">-</td>
            <td><span style="background: #f3f4f6; color: #4b5563; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold;">INFO</span></td>
          </tr>
        </tbody>
      </table>

      <div style="margin-top: 30px; padding: 20px; background: #d1fae5; border-radius: 10px; border: 2px solid #10b981;">
        <strong style="color: #065f46; font-size: 1.1em;">‚ú® What Happened:</strong><br><br>
        <span style="color: #047857;">
          1. Defined <strong>56 Universal ATR + 4 Specific ATR</strong> = 60 total attributes<br>
          2. System auto-generated <strong>GUI/TUPLA</strong> (form template with appropriate fields)<br>
          3. Created <strong>SUP</strong> (table) populated with <strong>10 PHO instances</strong><br><br>
          <strong>üéØ From 60 ATR ‚Üí Complete Interface + Working Database!</strong>
        </span>
      </div>
    </div>

    <!-- TAB 3: ONTOLOGICAL MAP -->
    <div id="cosmos" class="content">
      <div class="cosmos-container">
        <h2 style="font-size: 2em; margin-bottom: 10px;">üåå Ontological MAP 3P3</h2>
        <p style="color: #c4b5fd; margin-bottom: 30px;">The ENTITY (container) controls: TAKE (ATR) ‚Üí MAKE (TPL) ‚Üí DEPOSIT (SUP)</p>

        <svg width="100%" height="700" viewBox="0 0 800 700">
          <defs>
            <radialGradient id="yellowGlow">
              <stop offset="0%" stop-color="#fef3c7" stop-opacity="0.9" />
              <stop offset="100%" stop-color="#fbbf24" stop-opacity="0.4" />
            </radialGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <!-- Background space with small yellow entities (galaxy) -->
          <circle cx="120" cy="100" r="8" fill="#fbbf24" opacity="0.6" filter="url(#glow)"/>
          <circle cx="680" cy="120" r="6" fill="#fbbf24" opacity="0.5"/>
          <circle cx="150" cy="250" r="7" fill="#fbbf24" opacity="0.7" filter="url(#glow)"/>
          <circle cx="650" cy="280" r="8" fill="#fbbf24" opacity="0.6"/>
          <circle cx="100" cy="450" r="6" fill="#fbbf24" opacity="0.5"/>
          <circle cx="700" cy="500" r="7" fill="#fbbf24" opacity="0.6" filter="url(#glow)"/>
          <circle cx="180" cy="600" r="8" fill="#fbbf24" opacity="0.7"/>
          <circle cx="620" cy="620" r="6" fill="#fbbf24" opacity="0.5"/>
          <circle cx="90" cy="350" r="7" fill="#fbbf24" opacity="0.6"/>
          <circle cx="710" cy="380" r="8" fill="#fbbf24" opacity="0.7" filter="url(#glow)"/>
          <circle cx="140" cy="180" r="6" fill="#fbbf24" opacity="0.5"/>
          <circle cx="670" cy="200" r="7" fill="#fbbf24" opacity="0.6"/>
          <circle cx="110" cy="520" r="8" fill="#fbbf24" opacity="0.7" filter="url(#glow)"/>
          <circle cx="690" cy="160" r="6" fill="#fbbf24" opacity="0.5"/>
          <circle cx="160" cy="80" r="7" fill="#fbbf24" opacity="0.6"/>

          <text x="120" y="690" text-anchor="middle" style="font-size: 12px; fill: #fde68a; font-style: italic;">
            ‚≠ê Galaxy of potential entities (all yellow = all can become SuperTable)
          </text>

          <!-- THE MAIN ENTITY: Large yellow circle containing ATR-TPL-SUP -->
          <circle cx="400" cy="350" r="240" fill="url(#yellowGlow)" opacity="0.3" stroke="#fbbf24" stroke-width="6" filter="url(#glow)"/>
          <circle cx="400" cy="350" r="240" fill="none" stroke="#f59e0b" stroke-width="3" opacity="0.8"/>
          
          <!-- Label for the container -->
          <text x="400" y="120" text-anchor="middle" style="font-size: 22px; font-weight: bold; fill: #fbbf24;">
            ENTITY (SuperTable) - The Container
          </text>
          <text x="400" y="145" text-anchor="middle" style="font-size: 14px; fill: #fde68a;">
            Controls: TAKE ‚Üí MAKE ‚Üí DEPOSIT
          </text>

          <!-- ATR Component (ASPECT - BLUE circle, left position) -->
          <g>
            <circle cx="250" cy="350" r="75" fill="#3b82f6" opacity="0.3" stroke="#2563eb" stroke-width="4" filter="url(#glow)"/>
            <circle cx="250" cy="350" r="75" fill="none" stroke="#3b82f6" stroke-width="3"/>
            
            <!-- Internal triad of ATR -->
            <circle cx="250" cy="320" r="18" fill="#3b82f6" opacity="0.9" stroke="#1e40af" stroke-width="2"/>
            <text x="250" y="327" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: white;">MET</text>
            
            <circle cx="230" cy="360" r="18" fill="#ef4444" opacity="0.9" stroke="#dc2626" stroke-width="2"/>
            <text x="230" y="367" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: white;">OPE</text>
            
            <circle cx="270" cy="360" r="18" fill="#fbbf24" opacity="0.9" stroke="#f59e0b" stroke-width="2"/>
            <text x="270" y="367" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: #78350f;">ATR</text>

            <!-- Connections -->
            <line x1="250" y1="338" x2="237" y2="352" stroke="#94a3b8" stroke-width="1.5"/>
            <line x1="250" y1="338" x2="263" y2="352" stroke="#94a3b8" stroke-width="1.5"/>
            <line x1="237" y1="372" x2="263" y2="372" stroke="#fbbf24" stroke-width="1.5"/>
            
            <!-- Label -->
            <text x="250" y="440" text-anchor="middle" style="font-size: 18px; font-weight: bold; fill: #3b82f6;">ATR</text>
            <text x="250" y="460" text-anchor="middle" style="font-size: 13px; fill: #93c5fd;">ASPECT</text>
            <text x="250" y="477" text-anchor="middle" style="font-size: 12px; fill: #dbeafe;">TAKE component</text>
          </g>

          <!-- TPL Component (NATURE - RED circle, right position) -->
          <g>
            <circle cx="550" cy="350" r="75" fill="#ef4444" opacity="0.3" stroke="#dc2626" stroke-width="4" filter="url(#glow)"/>
            <circle cx="550" cy="350" r="75" fill="none" stroke="#ef4444" stroke-width="3"/>
            
            <!-- Internal triad of TPL -->
            <circle cx="550" cy="320" r="18" fill="#3b82f6" opacity="0.9" stroke="#1e40af" stroke-width="2"/>
            <text x="550" y="327" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: white;">CHAR</text>
            
            <circle cx="530" cy="360" r="18" fill="#ef4444" opacity="0.9" stroke="#dc2626" stroke-width="2"/>
            <text x="530" y="367" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: white;">FLOW</text>
            
            <circle cx="570" cy="360" r="18" fill="#fbbf24" opacity="0.9" stroke="#f59e0b" stroke-width="2"/>
            <text x="570" y="367" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: #78350f;">TPL</text>

            <!-- Connections -->
            <line x1="550" y1="338" x2="537" y2="352" stroke="#94a3b8" stroke-width="1.5"/>
            <line x1="550" y1="338" x2="563" y2="352" stroke="#94a3b8" stroke-width="1.5"/>
            <line x1="537" y1="372" x2="563" y2="372" stroke="#fbbf24" stroke-width="1.5"/>
            
            <!-- Label -->
            <text x="550" y="440" text-anchor="middle" style="font-size: 18px; font-weight: bold; fill: #ef4444;">TPL</text>
            <text x="550" y="460" text-anchor="middle" style="font-size: 13px; fill: #fca5a5;">NATURE</text>
            <text x="550" y="477" text-anchor="middle" style="font-size: 12px; fill: #fee2e2;">MAKE with process</text>
          </g>

          <!-- SUP Component (ENTITY - YELLOW circle, bottom center position) -->
          <g>
            <circle cx="400" cy="490" r="75" fill="#fbbf24" opacity="0.3" stroke="#f59e0b" stroke-width="4" filter="url(#glow)"/>
            <circle cx="400" cy="490" r="75" fill="none" stroke="#fbbf24" stroke-width="3"/>
            
            <!-- Internal triad of SUP -->
            <circle cx="400" cy="460" r="18" fill="#3b82f6" opacity="0.9" stroke="#1e40af" stroke-width="2"/>
            <text x="400" y="467" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: white;">INFO</text>
            
            <circle cx="380" cy="500" r="18" fill="#ef4444" opacity="0.9" stroke="#dc2626" stroke-width="2"/>
            <text x="380" y="507" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: white;">GUI</text>
            
            <circle cx="420" cy="500" r="18" fill="#fbbf24" opacity="0.9" stroke="#f59e0b" stroke-width="2"/>
            <text x="420" y="507" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: #78350f;">SUP</text>

            <!-- Connections -->
            <line x1="400" y1="478" x2="387" y2="492" stroke="#94a3b8" stroke-width="1.5"/>
            <line x1="400" y1="478" x2="413" y2="492" stroke="#94a3b8" stroke-width="1.5"/>
            <line x1="387" y1="512" x2="413" y2="512" stroke="#fbbf24" stroke-width="1.5"/>
            
            <!-- Label -->
            <text x="400" y="580" text-anchor="middle" style="font-size: 18px; font-weight: bold; fill: #fbbf24;">SUP</text>
            <text x="400" y="600" text-anchor="middle" style="font-size: 13px; fill: #fde68a;">ENTITY</text>
            <text x="400" y="617" text-anchor="middle" style="font-size: 12px; fill: #fef3c7;">DEPOSIT result</text>
          </g>

          <!-- Arrows showing the flow: ATR ‚Üí TPL ‚Üí SUP -->
          <g opacity="0.7">
            <!-- ATR to TPL -->
            <path d="M 325 350 L 475 350" stroke="#c4b5fd" stroke-width="3" fill="none" marker-end="url(#arrowPurple)"/>
            <text x="400" y="340" text-anchor="middle" style="font-size: 14px; font-weight: bold; fill: #c4b5fd;">‚Üí</text>
            
            <!-- TPL to SUP -->
            <path d="M 520 415 L 430 450" stroke="#c4b5fd" stroke-width="3" fill="none" marker-end="url(#arrowPurple)"/>
            <text x="490" y="440" text-anchor="middle" style="font-size: 14px; font-weight: bold; fill: #c4b5fd;">‚Üí</text>
          </g>

          <!-- Formula annotations -->
          <text x="250" y="405" text-anchor="middle" style="font-size: 11px; fill: #dbeafe; font-weight: bold;">
            MET + OPE = ATR
          </text>
          <text x="550" y="405" text-anchor="middle" style="font-size: 11px; fill: #fee2e2; font-weight: bold;">
            CHAR + FLOW = TPL
          </text>
          <text x="400" y="545" text-anchor="middle" style="font-size: 11px; fill: #fef3c7; font-weight: bold;">
            INFO + GUI = SUP
          </text>

          <!-- Container label at bottom -->
          <text x="400" y="640" text-anchor="middle" style="font-size: 14px; font-weight: bold; fill: #fbbf24;">
            ‚Üë The yellow circle contains and controls all three phases ‚Üë
          </text>
        </svg>
          <defs>
            <radialGradient id="yellowGlow">
              <stop offset="0%" stop-color="#fef3c7" stop-opacity="0.9" />
              <stop offset="100%" stop-color="#fbbf24" stop-opacity="0.4" />
            </radialGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <!-- Outer yellow circle (everything is ENTITY) -->
          <circle cx="400" cy="350" r="320" fill="none" stroke="#fbbf24" stroke-width="6" opacity="0.5" stroke-dasharray="15,5"/>
          <text x="400" y="40" text-anchor="middle" style="font-size: 18px; font-weight: bold; fill: #fbbf24;">
            EVERYTHING IS ENTITY (Yellow Sphere)
          </text>

          <!-- Background glow -->
          <circle cx="400" cy="350" r="280" fill="url(#yellowGlow)" opacity="0.3"/>
          <circle cx="400" cy="350" r="200" fill="url(#yellowGlow)" opacity="0.4"/>

          <!-- Center: ETY with internal triad composition -->
          <circle cx="400" cy="350" r="90" fill="#fbbf24" opacity="0.8" filter="url(#glow)" stroke="#f59e0b" stroke-width="4"/>
          
          <!-- Internal triad of ETY -->
          <circle cx="400" cy="310" r="25" fill="#fbbf24" opacity="0.95" stroke="#f59e0b" stroke-width="2"/>
          <text x="400" y="318" text-anchor="middle" style="font-size: 14px; font-weight: bold; fill: #78350f;">SUP</text>
          
          <circle cx="365" cy="360" r="25" fill="#3b82f6" opacity="0.95" stroke="#2563eb" stroke-width="2"/>
          <text x="365" y="368" text-anchor="middle" style="font-size: 13px; font-weight: bold; fill: white;">ATR</text>
          
          <circle cx="435" cy="360" r="25" fill="#ef4444" opacity="0.95" stroke="#dc2626" stroke-width="2"/>
          <text x="435" y="368" text-anchor="middle" style="font-size: 13px; font-weight: bold; fill: white;">TPL</text>

          <!-- Connections inside ETY -->
          <line x1="400" y1="335" x2="377" y2="350" stroke="#f59e0b" stroke-width="2"/>
          <line x1="400" y1="335" x2="423" y2="350" stroke="#f59e0b" stroke-width="2"/>
          <line x1="377" y1="373" x2="423" y2="373" stroke="#fbbf24" stroke-width="2"/>

          <text x="400" y="420" text-anchor="middle" style="font-size: 16px; font-weight: bold; fill: #fbbf24;">
            ETY (Central Entity)
          </text>

          <!-- Level 1: Triad ATR-TPL-SUP (all yellow because all are entities) -->
          <g>
            <!-- ATR entity -->
            <circle cx="200" cy="350" r="70" fill="#fbbf24" opacity="0.7" stroke="#f59e0b" stroke-width="3"/>
            <circle cx="200" cy="330" r="18" fill="#3b82f6" opacity="0.9"/>
            <text x="200" y="337" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: white;">MET</text>
            <circle cx="180" cy="370" r="18" fill="#ef4444" opacity="0.9"/>
            <text x="180" y="377" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: white;">OPE</text>
            <circle cx="220" cy="370" r="18" fill="#fbbf24" opacity="0.9"/>
            <text x="220" y="377" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: #78350f;">ATR</text>
            <text x="200" y="440" text-anchor="middle" style="font-size: 15px; font-weight: bold; fill: #3b82f6;">ATR</text>
            <text x="200" y="457" text-anchor="middle" style="font-size: 11px; fill: #93c5fd;">MET + OPE</text>
          </g>

          <g>
            <!-- TPL entity -->
            <circle cx="600" cy="350" r="70" fill="#fbbf24" opacity="0.7" stroke="#f59e0b" stroke-width="3"/>
            <circle cx="600" cy="330" r="18" fill="#3b82f6" opacity="0.9"/>
            <text x="600" y="337" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: white;">CHAR</text>
            <circle cx="580" cy="370" r="18" fill="#ef4444" opacity="0.9"/>
            <text x="580" y="377" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: white;">FLOW</text>
            <circle cx="620" cy="370" r="18" fill="#fbbf24" opacity="0.9"/>
            <text x="620" y="377" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: #78350f;">TPL</text>
            <text x="600" y="440" text-anchor="middle" style="font-size: 15px; font-weight: bold; fill: #ef4444;">TPL</text>
            <text x="600" y="457" text-anchor="middle" style="font-size: 11px; fill: #fca5a5;">CHAR + FLOW</text>
          </g>

          <g>
            <!-- SUP entity (at top) -->
            <circle cx="400" cy="120" r="70" fill="#fbbf24" opacity="0.7" stroke="#f59e0b" stroke-width="3"/>
            <circle cx="400" cy="100" r="18" fill="#3b82f6" opacity="0.9"/>
            <text x="400" y="107" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: white;">INFO</text>
            <circle cx="380" cy="140" r="18" fill="#ef4444" opacity="0.9"/>
            <text x="380" y="147" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: white;">GUI</text>
            <circle cx="420" cy="140" r="18" fill="#fbbf24" opacity="0.9"/>
            <text x="420" y="147" text-anchor="middle" style="font-size: 11px; font-weight: bold; fill: #78350f;">SUP</text>
            <text x="400" y="210" text-anchor="middle" style="font-size: 15px; font-weight: bold; fill: #fbbf24;">SUP</text>
            <text x="400" y="227" text-anchor="middle" style="font-size: 11px; fill: #fde68a;">INFO + GUI</text>
          </g>

          <!-- Connections from center to triads -->
          <line x1="310" y1="350" x2="270" y2="350" stroke="#fbbf24" stroke-width="3" opacity="0.6"/>
          <line x1="490" y1="350" x2="530" y2="350" stroke="#fbbf24" stroke-width="3" opacity="0.6"/>
          <line x1="400" y1="260" x2="400" y2="190" stroke="#fbbf24" stroke-width="3" opacity="0.6"/>

          <!-- Level 2: Components (6 smaller entities) -->
          <circle cx="300" cy="200" r="25" fill="#fbbf24" opacity="0.6" stroke="#f59e0b" stroke-width="2"/>
          <text x="300" y="207" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: #78350f;">MET</text>

          <circle cx="500" cy="200" r="25" fill="#fbbf24" opacity="0.6" stroke="#f59e0b" stroke-width="2"/>
          <text x="500" y="207" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: #78350f;">OPE</text>

          <circle cx="150" cy="300" r="25" fill="#fbbf24" opacity="0.6" stroke="#f59e0b" stroke-width="2"/>
          <text x="150" y="307" text-anchor="middle" style="font-size: 9px; font-weight: bold; fill: #78350f;">CHAR</text>

          <circle cx="650" cy="300" r="25" fill="#fbbf24" opacity="0.6" stroke="#f59e0b" stroke-width="2"/>
          <text x="650" y="307" text-anchor="middle" style="font-size: 9px; font-weight: bold; fill: #78350f;">FLOW</text>

          <circle cx="300" cy="500" r="25" fill="#fbbf24" opacity="0.6" stroke="#f59e0b" stroke-width="2"/>
          <text x="300" y="507" text-anchor="middle" style="font-size: 9px; font-weight: bold; fill: #78350f;">INFO</text>

          <circle cx="500" cy="500" r="25" fill="#fbbf24" opacity="0.6" stroke="#f59e0b" stroke-width="2"/>
          <text x="500" y="507" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: #78350f;">GUI</text>

          <!-- Arrows showing composition -->
          <g opacity="0.7">
            <!-- MET + OPE -> ATR -->
            <line x1="300" y1="225" x2="200" y2="280" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowBlue)"/>
            <line x1="500" y1="225" x2="200" y2="280" stroke="#3b82f6" stroke-width="2"/>
            
            <!-- CHAR + FLOW -> TPL -->
            <line x1="150" y1="325" x2="600" y2="280" stroke="#ef4444" stroke-width="2"/>
            <line x1="650" y1="325" x2="600" y2="280" stroke="#ef4444" stroke-width="2"/>
            
            <!-- INFO + GUI -> SUP -->
            <line x1="300" y1="475" x2="400" y2="190" stroke="#fbbf24" stroke-width="2"/>
            <line x1="500" y1="475" x2="400" y2="190" stroke="#fbbf24" stroke-width="2"/>
          </g>

          <!-- Formula annotations -->
          <text x="250" y="260" text-anchor="middle" style="font-size: 12px; fill: #93c5fd; font-weight: bold;">+</text>
          <text x="575" y="305" text-anchor="middle" style="font-size: 12px; fill: #fca5a5; font-weight: bold;">+</text>
          <text x="400" y="440" text-anchor="middle" style="font-size: 12px; fill: #fde68a; font-weight: bold;">+</text>
        </svg>

        <div class="legend-grid">
          <div class="legend-item" style="border-color: #fbbf24;">
            <div class="legend-dot" style="background: #fbbf24;"></div>
            <strong style="font-size: 0.9em;">Yellow Container</strong><br>
            <span style="font-size: 0.8em; color: #fde68a;">The ENTITY that contains ATR-TPL-SUP</span><br>
            <strong style="font-size: 1.3em; color: #fbbf24;">1</strong>
          </div>
          <div class="legend-item" style="border-color: #3b82f6;">
            <div class="legend-dot" style="background: #3b82f6;"></div>
            <strong style="font-size: 0.9em;">ATR - ASPECT</strong><br>
            <span style="font-size: 0.8em; color: #93c5fd;">TAKE the component</span><br>
            <strong style="font-size: 1.3em; color: #3b82f6;">INPUT</strong>
          </div>
          <div class="legend-item" style="border-color: #ef4444;">
            <div class="legend-dot" style="background: #ef4444;"></div>
            <strong style="font-size: 0.9em;">TPL - NATURE</strong><br>
            <span style="font-size: 0.8em; color: #fca5a5;">MAKE with process</span><br>
            <strong style="font-size: 1.3em; color: #ef4444;">PROCESS</strong>
          </div>
          <div class="legend-item" style="border-color: #fbbf24;">
            <div class="legend-dot" style="background: #f59e0b;"></div>
            <strong style="font-size: 0.9em;">SUP - ENTITY</strong><br>
            <span style="font-size: 0.8em; color: #fde68a;">DEPOSIT the result</span><br>
            <strong style="font-size: 1.3em; color: #f59e0b;">OUTPUT</strong>
          </div>
        </div>

        <div style="margin-top: 30px; padding: 25px; background: rgba(251,191,36,0.2); border-radius: 12px; border: 2px solid #fbbf24;">
          <h3 style="font-size: 1.3em; margin-bottom: 15px; color: #fef3c7;">üéØ The Critical Ontological Concept</h3>
          <div style="line-height: 1.8; color: #fef3c7; font-size: 1.05em;">
            <strong>1Ô∏è‚É£ ATR-TPL-SUP Cannot Exist Alone:</strong><br>
            The three phases (TAKE-MAKE-DEPOSIT) need a container. Who takes? Who makes? Who deposits? The ENTITY does! The yellow circle is the ENTITY (SuperTable) that contains and controls all three phases.<br><br>

            <strong>2Ô∏è‚É£ Like PERSON + PROCESS + PRODUCT:</strong><br>
            ‚Ä¢ There is no "process" without the PERSON who executes it<br>
            ‚Ä¢ The PERSON is the container that controls: take the materials, make the transformation, deposit the result<br>
            ‚Ä¢ Similarly, the ENTITY (yellow) contains: ATR (take), TPL (make), SUP (deposit)<br><br>

            <strong>3Ô∏è‚É£ The Name is the Container:</strong><br>
            The ENTITY is the NAME/SUBJECT/ACTOR that executes the three phases. Without the entity, there are no phases. The phases exist INSIDE the entity, not separately.<br><br>

            <strong>4Ô∏è‚É£ Galaxy of Yellow Entities:</strong><br>
            The small yellow dots around represent other potential entities. Each one can manifest as a complete SuperTable (with its own ATR-TPL-SUP inside).
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div style="text-align: center; margin-top: 40px;">
      <div style="display: inline-block; background: white; padding: 25px 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
        <div style="font-size: 1.3em; font-weight: bold; color: #1e293b; margin-bottom: 10px;">
          üíé 3P3 Universal Formula
        </div>
        <div style="color: #64748b;">
          Every Entity = ASPECT (blue) + NATURE (red) + ENTITY (yellow)
        </div>
        <div style="font-size: 0.9em; color: #94a3b8; margin-top: 8px; font-style: italic;">
          Fractal pattern that repeats identically at every level
        </div>
      </div>
    </div>
  </div>

  <script>
    function showTab(tabName) {
      const contents = document.querySelectorAll('.content');
      contents.forEach(content => content.classList.remove('active'));
      
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach(tab => tab.classList.remove('active'));
      
      document.getElementById(tabName).classList.add('active');
      
      event.target.classList.add('active');
    }
  </script>
</body>
</html>