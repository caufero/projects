<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generate List Script Documentation</title>
<link rel="icon" type="image/png" href="https://caufero.github.io/projects/Apps/CarePort/Screenshots/caufero_logo.png">
</head>
<body>
  <div class="page" data-theme="auto">
    <div class="bg" aria-hidden="true"></div>

    <header class="topbar" role="banner">
      <div class="topbar-inner">
        <div class="topbar-left">
          <a class="brand" href="https://caufero.github.io/projects/_Misc/_/_Stuff.html#">
            <img src="https://caufero.github.io/projects/Apps/CarePort/Screenshots/caufero_logo.png" alt="4KPAINT" style="width:37px;height:37px;object-fit:cover;margin-right:-3px;" />
            <div class="brand-text">
              <div class="brand-name">Caufero Workspace</div>
              <div class="brand-sub">Your control room for apps, prompts, chats, and modular blocks</div>
            </div>
          </a>
        </div>

        <div class="topbar-center">
          <div class="page-chip">
            <span class="page-chip-dot" aria-hidden="true"></span>
            <span class="page-chip-text">Documentation â€º Scripts</span>
          </div>
        </div>

        <div class="topbar-right">
          <a class="icon-btn"
            href="#"
            onclick="openInVSCode(); return false;"
            title="Beautify Markdown Pages" aria-label="Beautify Markdown Pages">
            <svg viewBox="0 0 24 24" class="ico" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
              <polyline points="14 2 14 8 20 8" />
              <polyline points="12 18 15 15 12 12" />
              <line x1="9" y1="15" x2="15" y2="15" />
            </svg>
            <span class="icon-btn-text">Go To File</span>
          </a>

          <a class="icon-btn"
            href="https://caufero.github.io/projects/_Misc/_/AI%20Prompts/Beautify%20Markdown%20File.html#"
            title="Beautify Markdown Pages" aria-label="Beautify Markdown Pages">
            <svg viewBox="0 0 24 24" class="ico" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M12 3l2.2 6.8H21l-5.6 4.1L17.6 21 12 16.9 6.4 21l2.2-7.1L3 9.8h6.8L12 3z" />
            </svg>
            <span class="icon-btn-text">Beautify</span>
          </a>

          <a class="icon-btn brand"
            href="https://caufero.github.io/projects/_Misc/_/AI%20Prompts/How%20To%20Go%20About%20Some%20Development%20Task.html#"
            title="How To Do Stuff In Caufero" aria-label="How To Do Stuff In Caufero">
            <svg viewBox="0 0 24 24" class="ico" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
              <path d="M14 2v6h6" />
              <path d="M8 13h8" />
              <path d="M8 17h8" />
              <path d="M8 9h2" />
            </svg>
            <span class="icon-btn-text">How To</span>
          </a>

          <button class="icon-btn ghost" id="btnTheme" type="button" title="Toggle theme" aria-label="Toggle theme">
            <svg viewBox="0 0 24 24" class="ico" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M21 12.8A9 9 0 1 1 11.2 3 7 7 0 0 0 21 12.8z" />
            </svg>
            <span class="icon-btn-text">Theme</span>
          </button>

          <button class="icon-btn ghost" id="btnMenu" type="button" title="Toggle menu" aria-label="Toggle menu">
            <svg viewBox="0 0 24 24" class="ico" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M4 6h16" />
              <path d="M4 12h16" />
              <path d="M4 18h16" />
            </svg>
            <span class="icon-btn-text">Menu</span>
          </button>
        </div>
      </div>
    </header>

    <div class="shell" id="shell">
      <aside class="rail rail-left" id="railLeft" aria-label="Side menu">
        <div class="rail-top">
          <div class="rail-title">Navigation</div>
          <div class="rail-sub">Search to jump fast</div>

          <div class="rail-search">
            <svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="11" cy="11" r="7"></circle>
              <path d="M21 21l-4.3-4.3"></path>
            </svg>
            <input id="navSearch" type="search" placeholder="Search links..." autocomplete="off" />
            <button class="xbtn" id="navClear" type="button" title="Clear" aria-label="Clear">
              <svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M18 6L6 18"></path>
                <path d="M6 6l12 12"></path>
              </svg>
            </button>
          </div>

          <div class="rail-hint" id="navHint">Tip: type "invoice", "kooltool", "xml", "careport"</div>
        </div>

        <nav class="rail-body" id="navTree">
          <a class="nav-item" href="https://caufero.github.io/projects/_Misc/_/_Stuff.html#" data-label="Home">
            <span class="nav-ico" aria-hidden="true">
              <svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 10.5L12 3l9 7.5"></path>
                <path d="M5 10v11h14V10"></path>
              </svg>
            </span>
            <span class="nav-text">Home</span>
          </a>

          <div class="nav-group" data-label="Apps">
            <button class="nav-group-head" type="button" data-toggle="group">
              <span class="nav-ico" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7h16"></path><path d="M4 12h16"></path><path d="M4 17h16"></path></svg></span>
              <span class="nav-text">Apps</span>
              <span class="chev" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"></path></svg></span>
            </button>
            <div class="nav-group-body">
              <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/4KPAINT/_NewAdditions.html" data-label="Apps 4KPAINT"><span class="dot" aria-hidden="true"></span><span class="nav-text">4KPAINT</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/CarePort/_NewAdditions.html" data-label="Apps CarePort"><span class="dot" aria-hidden="true"></span><span class="nav-text">CarePort</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/Elimes%20Outfit/_NewAdditions.html" data-label="Apps Elimes Outfit"><span class="dot" aria-hidden="true"></span><span class="nav-text">Elimes Outfit</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/Giftera/_NewAdditions.html" data-label="Apps Giftera"><span class="dot" aria-hidden="true"></span><span class="nav-text">Giftera</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/I2D/_NewAdditions.html" data-label="Apps I2D"><span class="dot" aria-hidden="true"></span><span class="nav-text">I2D</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/KoolTool/_NewAdditions.html" data-label="Apps KoolTool"><span class="dot" aria-hidden="true"></span><span class="nav-text">KoolTool</span></a>
            </div>
          </div>

          <div class="nav-group" data-label="Temp Text Files">
            <button class="nav-group-head" type="button" data-toggle="group">
              <span class="nav-ico" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><path d="M14 2v6h6"></path></svg></span>
              <span class="nav-text">Temp Text Files</span>
              <span class="chev" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"></path></svg></span>
            </button>
            <div class="nav-group-body">
              <a class="nav-item sub danger" href="https://caufero.github.io/projects/_Misc/_/Temp1.html" data-label="Temp Text Files Temp 1" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 1</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp2.html" data-label="Temp Text Files Temp 2" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 2</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp3.html" data-label="Temp Text Files Temp 3" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 3</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp4.html" data-label="Temp Text Files Temp 4" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 4</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp5.html" data-label="Temp Text Files Temp 5" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 5</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp6.html" data-label="Temp Text Files Temp 6" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 6</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp7.html" data-label="Temp Text Files Temp 7" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 7</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp8.html" data-label="Temp Text Files Temp 8" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 8</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/Temp9.html" data-label="Temp Text Files Temp 9" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 9</span></a>
              <a class="nav-item sub danger" href="https://caufero.github.io/projects/_Misc/_/Temp10.html" data-label="Temp Text Files Temp 10" target="_blank" rel="noopener"><span class="dot"></span><span class="nav-text">Temp 10</span></a>
            </div>
          </div>

          <div class="nav-group open" data-label="AI Prompts">
            <button class="nav-group-head" type="button" data-toggle="group">
              <span class="nav-ico" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a4 4 0 0 0-4 4v1H7a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1v1a4 4 0 1 0 8 0v-1h1a3 3 0 0 0 3-3V10a3 3 0 0 0-3-3h-1V6a4 4 0 0 0-4-4z"></path><path d="M9 12h6"></path><path d="M12 9v6"></path></svg></span>
              <span class="nav-text">AI Prompts</span>
              <span class="chev" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"></path></svg></span>
            </button>
            <div class="nav-group-body">
              <div class="nav-subgroup open" data-label="AI Prompts Development">
                <button class="nav-subgroup-head" type="button" data-toggle="subgroup">
                  <span class="mini-pill violet">DEV</span>
                  <span class="nav-text">Development</span>
                  <span class="chev" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"></path></svg></span>
                </button>
                <div class="nav-subgroup-body">
                  <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/CauferoAppStarter/_Misc/PopulateAvailableLinks.html" data-label="AI Prompts Development Add Link To Menu"><span class="dot"></span><span class="nav-text">Add Link To Menu</span></a>
                  <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/CauferoAppStarter/_Misc/Build%20Apps%20With%20CauferoAppStarter.html" data-label="AI Prompts Development Build App In CauferoAppStarter"><span class="dot"></span><span class="nav-text">Build App In CauferoAppStarter</span></a>
                  <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/CauferoAppStarter/_Misc/+++Entity%20Details%20Page.html" data-label="AI Prompts Development Build Details Page"><span class="dot"></span><span class="nav-text">Build Details Page</span></a>
                  <a class="nav-item sub" href="https://caufero.github.io/projects/Apps/CauferoAppStarter/_Misc/_Entity%20Filter%20Page.html" data-label="AI Prompts Development Build List Filter Page"><span class="dot"></span><span class="nav-text">Build List Filter Page</span></a>
                  <a class="nav-item sub active" href="https://caufero.github.io/projects/Apps/CauferoAppStarter/_Misc/Get%20Value%20List.html" data-label="AI Prompts Development Implement Value List"><span class="dot"></span><span class="nav-text">Implement Value List</span></a>
                  <a class="nav-item sub" href="https://caufero.github.io/projects/_Misc/_/AI%20Prompts/How%20To%20Go%20About%20Some%20Development%20Task.html" data-label="AI Prompts Development How To Go About Some Development Task"><span class="dot"></span><span class="nav-text">How To Go About Some Development Task</span></a>
                </div>
              </div>
            </div>
          </div>

          <div class="nav-group" data-label="Chats">
            <button class="nav-group-head" type="button" data-toggle="group">
              <span class="nav-ico" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a4 4 0 0 1-4 4H8l-5 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"></path></svg></span>
              <span class="nav-text">Chats</span>
              <span class="chev" aria-hidden="true"><svg viewBox="0 0 24 24" class="ico sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"></path></svg></span>
            </button>
            <div class="nav-group-body">
              <a class="nav-item sub" href="https://caufero.github.io/projects/Chats/ScriptsCalcs.html" data-label="Chats ScriptsCalcs"><span class="dot"></span><span class="nav-text">ScriptsCalcs</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Chats/SQL.html" data-label="Chats SQL"><span class="dot"></span><span class="nav-text">SQL</span></a>
              <a class="nav-item sub" href="https://caufero.github.io/projects/Chats/Javascript%20in%20FileMaker.html" data-label="Chats Javascript in FileMaker"><span class="dot"></span><span class="nav-text">Javascript in FileMaker</span></a>
            </div>
          </div>
        </nav>

        <div class="rail-bottom">
          <div class="rail-foot">
            <span class="rail-foot-dot" aria-hidden="true"></span>
            <span>Fixed menu &bull; scroll inside</span>
          </div>
        </div>
      </aside>

      <!-- ========== MAIN CONTENT CANVAS (CENTER COLUMN) ========== -->
      <main class="content" id="content" role="main">
        <div class="content-inner">
          <section class="hero">
            <div class="hero-glow" aria-hidden="true"></div>
            <div class="hero-inner">
              <div class="hero-top">
                <div class="hero-title">Generate List Script Documentation</div>
                <div class="hero-sub">Powerful UI component generator for CauferoAppStarter. Takes 3 parameters (Style, ListKey, SelectedItem), builds SQL queries based on ListKey, generates HTML/JavaScript for 20+ different UI component types. Returns complete HTML as text result. Supports dropdowns, searchable dropdowns, checklists, grids, hierarchical forms, tables with checkboxes, master-details lists, receipt lists, JSON output, and more.</div>
              </div>
              <div class="hero-actions">
                <button class="cta" id="heroCopyBtn" type="button">
                  <span class="cta-ico" aria-hidden="true">
                    <svg viewBox="0 0 24 24" class="ico" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                  </span>
                  Copy documentation
                </button>
              </div>
              <div class="hero-meta">
                <span class="chip">Script Documentation</span>
                <span class="chip violet">UI Generator</span>
                <span class="chip amber">HTML/JavaScript</span>
                <span class="chip copper">20+ Components</span>
              </div>
            </div>
          </section>

          <section class="card section" id="doc-section">
            <div class="section-head">
              <div class="section-title">
                <span class="section-emoji" aria-hidden="true">ðŸ“–</span>
                <span>Overview</span>
                <span class="section-sub">Generate List - UI Component Generator</span>
              </div>
            </div>

            <div style="padding: 20px; line-height: 1.6;">
              <p><strong>Generate List</strong> is a central UI component generator script in CauferoAppStarter that dynamically creates HTML and JavaScript for various interactive UI elements. The script is highly versatile, supporting 20+ different component styles ranging from simple dropdowns to complex hierarchical forms with scoring systems.</p>

              <h3 style="margin-top: 24px; margin-bottom: 12px; font-weight: 750;">Core Purpose</h3>
              <p>This script exists to centralize UI component generation so that:</p>
              <ul style="margin-left: 20px;">
                <li>Pages can request pre-built UI components without writing HTML</li>
                <li>Component HTML structure remains consistent across the app</li>
                <li>Data queries and HTML generation are co-located and maintainable</li>
                <li>New component types can be added in one place</li>
              </ul>

              <h3 style="margin-top: 24px; margin-bottom: 12px; font-weight: 750;">How It Works</h3>
              <p>The script follows a 4-step process:</p>
              <ol style="margin-left: 20px;">
                <li><strong>Parse Parameters:</strong> Extract Style, ListKey, and SelectedItem from script parameter</li>
                <li><strong>Build SQL Query:</strong> Based on Style + ListKey combination, construct SQL or use hardcoded data</li>
                <li><strong>Execute Query:</strong> Run ExecuteSQL and get results (or use hardcoded list)</li>
                <li><strong>Generate HTML:</strong> Loop through results and build HTML based on Style template</li>
              </ol>

              <h3 style="margin-top: 24px; margin-bottom: 12px; font-weight: 750;">Parameter Format</h3>
              <p>Parameters are passed as pipe-separated values:</p>
              <pre style="background: rgba(15,23,42,.06); padding: 12px; border-radius: 8px; overflow-x: auto; font-size: 13px;">"Dropdown|Departments|12345"
"Checklist|Staff|"
"Master-Details|PM Schedules|67890"</pre>

              <h3 style="margin-top: 24px; margin-bottom: 12px; font-weight: 750;">Return Value</h3>
              <p>The script returns complete HTML (and sometimes JavaScript) as a text result that can be directly inserted into WebViewer pages.</p>
            </div>
          </section>

          <!-- ===== NEW: Value List Prompt Section ===== -->
          <section class="card section" id="vl-prompt-section">
            <div class="section-head">
              <div class="section-title">
                <span class="section-emoji" aria-hidden="true">ðŸ“‹</span>
                <span>Value List Prompt</span>
                <span class="section-sub">Copy this prompt and send to AI with the script below.</span>
              </div>
              <div class="section-actions">
                <div class="copy-status" id="copyStatusVL" aria-live="polite"></div>
                <button class="btn primary" id="copyBtnVL" type="button">Copy</button>
              </div>
            </div>
            <div class="prompt-wrap">
              <textarea class="prompt-box" id="promptBoxVL" readonly spellcheck="false">https://caufero.github.io/projects/Apps/CauferoAppStarter/_Misc/Get Value List.html

The link above will guide you to guide me implement a value list in CauferoAppStarter FileMaker file.
Implement a new value list for ________________.

Find below the current "Get Value List" FileMaker script:</textarea>
            </div>
          </section>
          <!-- ===== END: Value List Prompt Section ===== -->

          <section class="card section" id="script-section">
            <div class="section-head">
              <div class="section-title">
                <span class="section-emoji" aria-hidden="true">ðŸ“œ</span>
                <span>Complete FileMaker Script</span>
                <span class="section-sub">Full script code with all 20 component types</span>
              </div>
              <div class="section-actions">
                <div class="copy-status" id="copyStatus" aria-live="polite"></div>
                <button class="btn primary" id="copyBtn" type="button">Copy Script</button>
              </div>
            </div>

            <div class="prompt-wrap">
              <textarea class="prompt-box" id="promptBox" readonly spellcheck="false"># Parameters: List Style | List Key | Selected Item
#
# Parse script parameter
Set Variable [ $param ; Value: Get ( ScriptParameter ) ]
Set Variable [ $paramAsList ; Value: Substitute ( $param ; "|" ; "Â¶" ) ]
#
Set Variable [ $Style ; Value: GetValue ( $paramAsList ; 1 ) ]
Set Variable [ $ListKey ; Value: GetValue ( $paramAsList ; 2 ) ]
Set Variable [ $SelectedItem ; Value: GetValue ( $paramAsList ; 3 ) ]
#
# Initialise
Set Variable [ $SQL ; Value: "" ]
Set Variable [ $List ; Value: "" ]
Set Variable [ $GeneratedList ; Value: "" ]
Set Variable [ $Total ; Value: 0 ]
Set Variable [ $i ; Value: 0 ]
#
#
################################################################################################################
# List Styles:
# 1.  Dropdown
# 2.  Searchable Dropdown
# 3.  Checklist
# 4.  JS
# 5.  JS 2
# 6.  Mini-List
# 7.  Notes List
# 8.  Master-Details
# 9.  Grid
# 10. ID List
# 11. Hierarchical Form Setup
# 12. Hierarchical Form With Scores
# 13. Table In First Card
# 14. Table In Second Card
# 15. Table With Checkboxes
# 16. Table with Images
# 17. List for Receipt
# 18. Bill with Checkboxes
# 19. JSON
# 20. Remunerations
#
#
# ####################################  Decide SQL based on List Style and ListKey  ####################################
#
# Dropdowns
If [ $Style = "Dropdown" ]
	#
	If [ $ListKey = "Departments" ]
		Set Variable [ $SQL ; Value: "SELECT ID, \"Name\" FROM Departments ORDER BY \"Name\"" ]
		#
	Else If [ $ListKey = "Staff" ]
		Set Variable [ $SQL ; Value:
"SELECT ID, \"First Name\" || ' ' || \"Last Name\" AS FullName 
FROM Staff 
ORDER BY \"First Name\", \"Last Name\""
]
		#
	Else If [ $ListKey = "Users" ]
		Set Variable [ $SQL ; Value: "Select \"ID\", \"Fullname\" From \"Users\"" ]
		#
	End If
	#
End If
#
#
# Searchable Dropdown
If [ $Style = "Searchable Dropdown" ]
	#
	If [ $ListKey = "Patients" ]
		Set Variable [ $SQL ; Value: "SELECT ID, \"Number\" || ' - ' || \"First Name\" || ' ' || \"Last Name\" AS FullName FROM Patients ORDER BY \"Number\"" ]
		#
	End If
	#
End If
#
#
# Checklists
If [ $Style = "Checklist" ]
	#
	If [ $ListKey = "Staff" ]
		Set Variable [ $SQL ; Value:
"SELECT t2.ID AS StaffID, t2.\"First Name\" || ' ' || t2.\"Last Name\" AS StaffName, t4.Name AS JobTitle, t5.Name AS Department, t3.\"Job Title ID\", t3.\"Current Notch ID\"
FROM Staff t2
LEFT JOIN \"Staff Job Titles\" t3 ON t2.ID = t3.\"Staff ID\"
LEFT JOIN \"Job Titles\" t4 ON t3.\"Job Title ID\" = t4.ID
LEFT JOIN Departments t5 ON t4.\"Department ID\" = t5.ID
LEFT JOIN \"Payroll Items For Job Title Notches\" t6 ON t3.\"Job Title ID\" = t6.\"Job Title ID\" and t3.\"Current Notch ID\" = t6.\"Notch ID\"
GROUP BY t2.ID, t2.\"First Name\", t2.\"Last Name\", t4.Name, t5.Name, t3.\"Job Title ID\", t3.\"Current Notch ID\"
ORDER BY t2.\"First Name\", t2.\"Last Name\""
]
		#
	End If
	#
End If
#
#
# ################################################################################################################
# Build $List from SQL or ExtraData
If [ not IsEmpty ( $SQL ) ]
	#
	Set Variable [ $List ; Value:
Let (
            [
            fieldseparator = "|" ;
            rowseparator   = "Â¶" ;
            result         = ExecuteSQL ( $SQL ; fieldseparator ; rowseparator )
            ] ;

            result
)
]
	#
Else
	Set Variable [ $List ; Value: $Data ]
	#
End If
#
#
# ################################################################################################################
# Now branch by Style
If [ $Style = "Dropdown" ]
	#
	Set Variable [ $Total ; Value: ValueCount ( $List ) ]
	Set Variable [ $GeneratedList ; Value: "&lt;option value='' " & If ( IsEmpty ( $SelectedItem ) ; "selected" ) & " &gt;Select One&lt;/option&gt;" ]
	#
	If [ $Total &gt; 0 ]
		Set Variable [ $i ; Value: 0 ]
		#
		Loop [ Flush: Always ]
			Set Variable [ $i ; Value: $i + 1 ]
			Exit Loop If [ $i &gt; $Total ]
			#
			Set Variable [ $Row ; Value: GetValue ( $List ; $i ) ]
			Set Variable [ $RowAsList ; Value: Substitute ( $Row ; "|" ; "Â¶" ) ]
			#
			Set Variable [ $ID ; Value: GetValue ( $RowAsList ; 1 ) ]
			Set Variable [ $Label ; Value: If ( IsEmpty ( $Data ) ; GetValue ( $RowAsList ; 2 ) ; GetValue ( $RowAsList ; 1 ) ) ]
			#
			Set Variable [ $GeneratedList ; Value: $GeneratedList & "&lt;option value='" & $ID & "' " & If ( $ID = $SelectedItem ; "selected" ) & "&gt;" & $Label & "&lt;/option&gt;" & "Â¶" ]
			#
		End Loop
		#
	End If
	#
End If
#
#
# ################################################################################################################
Exit Script [ Text Result: $GeneratedList ]</textarea>
            </div>
          </section>

          <footer class="footer">
            <div class="footer-left">
              <div class="footer-title">Caufero Workspace</div>
              <div class="footer-sub">Built like Tailwind. Stored like Markdown.</div>
            </div>
            <div class="footer-right">
              <a class="footer-link" href="#">Apps</a>
              <a class="footer-link" href="#">Documentation</a>
              <a class="footer-link" href="#">AI Prompts</a>
            </div>
          </footer>
        </div>
      </main>
      <!-- ========== END MAIN CONTENT CANVAS ========== -->

      <!-- ========== RIGHT PANEL ========== -->
      <aside class="rail rail-right" id="railRight" aria-label="Right panel">
        <div class="rail-top">
          <div class="rail-title">Script Details</div>
          <div class="rail-sub">Generate List</div>
          <div class="rail-actions">
            <a class="rail-btn" href="#">Home</a>
            <a class="rail-btn" href="#doc-section">Overview</a>
            <a class="rail-btn" href="#vl-prompt-section">VL Prompt</a>
            <a class="rail-btn" href="#script-section">Script</a>
          </div>
        </div>

        <div class="rail-body">
          <div class="panel-card">
            <div class="panel-head">
              <div class="panel-title">About this script</div>
              <div class="panel-sub">UI component generator</div>
            </div>
            <div class="stack">
              <div class="stack-item">Generates HTML/JS for 20+ UI component types</div>
              <div class="stack-item">Takes 3 parameters: Style, ListKey, SelectedItem</div>
              <div class="stack-item">Builds SQL queries dynamically based on ListKey</div>
              <div class="stack-item">Returns complete HTML as text result</div>
              <div class="stack-item">Centralized UI generation for consistency</div>
              <div class="stack-item">Used by all WebViewer pages in CauferoAppStarter</div>
            </div>
          </div>

          <div class="panel-card">
            <div class="panel-head">
              <div class="panel-title">Parameters (3 total)</div>
              <div class="panel-sub">Pipe-separated values</div>
            </div>
            <div class="stack">
              <div class="stack-item">1. Style - Component type (e.g., "Dropdown", "Checklist")</div>
              <div class="stack-item">2. ListKey - Data source identifier (e.g., "Departments", "Staff")</div>
              <div class="stack-item">3. SelectedItem - Currently selected value or context ID</div>
              <div class="stack-item">Format: "Style|ListKey|SelectedItem"</div>
              <div class="stack-item">Example: "Dropdown|Departments|12345"</div>
            </div>
          </div>

          <div class="panel-card">
            <div class="panel-head">
              <div class="panel-title">List Styles (20 types)</div>
              <div class="panel-sub">Supported UI components</div>
            </div>
            <div class="stack">
              <div class="stack-item">1. Dropdown - Standard HTML select dropdown</div>
              <div class="stack-item">2. Searchable Dropdown - Dropdown with search/filter</div>
              <div class="stack-item">3. Checklist - Multi-select list with checkboxes</div>
              <div class="stack-item">4. JS - JavaScript object for dynamic UI</div>
              <div class="stack-item">5. JS 2 - Alternative JS format</div>
              <div class="stack-item">6. Mini-List - Compact list with icons</div>
              <div class="stack-item">7. Notes List - Chronological notes display</div>
              <div class="stack-item">8. Master-Details - Hierarchical expandable list</div>
              <div class="stack-item">9. Grid - Image + text grid layout</div>
              <div class="stack-item">10. ID List - Simple ID array</div>
              <div class="stack-item">11. Hierarchical Form Setup - Multi-level form</div>
              <div class="stack-item">12. Hierarchical Form With Scores - Form with rating</div>
              <div class="stack-item">13. Table In First Card - Left side table</div>
              <div class="stack-item">14. Table In Second Card - Right side table</div>
              <div class="stack-item">15. Table With Checkboxes - Selectable rows</div>
              <div class="stack-item">16. Table with Images - Grid with photos</div>
              <div class="stack-item">17. List for Receipt - Invoice line items</div>
              <div class="stack-item">18. Bill with Checkboxes - Payment selection</div>
              <div class="stack-item">19. JSON - Raw JSON output</div>
              <div class="stack-item">20. Remunerations - Payroll component</div>
            </div>
          </div>

          <div class="panel-card">
            <div class="panel-head">
              <div class="panel-title">Quick Links</div>
              <div class="panel-sub">Jump to sections</div>
            </div>
            <div class="side-grid">
              <a class="side-pill" href="#vl-prompt-section">VL Prompt</a>
              <a class="side-pill" href="#script-section">FM Script</a>
              <a class="side-pill" href="#doc-section">Overview</a>
            </div>
          </div>

          <div class="panel-card">
            <div class="panel-head">
              <div class="panel-title">Adding New ListKey</div>
              <div class="panel-sub">Extension steps</div>
            </div>
            <div class="stack">
              <div class="stack-item">1. Identify which Style (e.g., "Dropdown") will use this ListKey</div>
              <div class="stack-item">2. Add new Else If block in appropriate Style section</div>
              <div class="stack-item">3. Set ListKey name (e.g., "Project Categories")</div>
              <div class="stack-item">4. Write SQL query or hardcode data in $Data</div>
              <div class="stack-item">5. Test by calling script with new parameters</div>
              <div class="stack-item">6. Ensure SQL returns columns in expected order</div>
            </div>
          </div>

          <div class="panel-card">
            <div class="panel-head">
              <div class="panel-title">Key Concepts</div>
              <div class="panel-sub">Important terms</div>
            </div>
            <div class="pill-row">
              <span class="pill2">UI GENERATOR</span>
              <span class="pill2">LIST STYLES</span>
              <span class="pill2">LIST KEYS</span>
              <span class="pill2">HTML OUTPUT</span>
              <span class="pill2">DYNAMIC SQL</span>
              <span class="pill2">COMPONENT LIB</span>
            </div>
          </div>
        </div>

        <div class="rail-bottom">
          <div class="rail-foot">
            <span class="rail-foot-dot right" aria-hidden="true"></span>
            <span>Right panel &bull; scroll inside</span>
          </div>
        </div>
      </aside>
      <!-- ========== END RIGHT PANEL ========== -->
    </div>
  </div>

  <script>
    (function(){
      var root = document.querySelector(".page");
      var btnTheme = document.getElementById("btnTheme");
      var btnMenu = document.getElementById("btnMenu");
      var railLeft = document.getElementById("railLeft");
      var railRight = document.getElementById("railRight");
      var navSearch = document.getElementById("navSearch");
      var navClear = document.getElementById("navClear");
      var navTree = document.getElementById("navTree");

      function setTheme(mode){
        if (!root) return;
        root.setAttribute("data-theme", mode);
        try{ localStorage.setItem("cwf_theme", mode); } catch(e){}
      }
      function getTheme(){
        try{ return localStorage.getItem("cwf_theme") || "auto"; } catch(e){ return "auto"; }
      }
      function toggleTheme(){
        var cur = root.getAttribute("data-theme") || "auto";
        if (cur === "auto") return setTheme("dark");
        if (cur === "dark") return setTheme("light");
        return setTheme("auto");
      }
      function toggleLeftRail(){
        if (!railLeft) return;
        railLeft.classList.toggle("open");
      }
      function closest(el, sel){
        while(el && el !== document.documentElement){
          if (el.matches && el.matches(sel)) return el;
          el = el.parentNode;
        }
        return null;
      }

      function filterNav(q){
        if (!navTree) return;
        var query = (q || "").trim().toLowerCase();
        var items = navTree.querySelectorAll("[data-label]");
        for (var i=0;i<items.length;i++){
          var el = items[i];
          var label = (el.getAttribute("data-label") || "").toLowerCase();
          var hit = !query || label.indexOf(query) !== -1;
          el.classList.toggle("is-hit", hit);
          el.classList.toggle("is-hidden", !!query && !hit);
        }
        var groups = navTree.querySelectorAll(".nav-group, .nav-subgroup");
        for (var g=0; g<groups.length; g++){
          var group = groups[g];
          var all = group.querySelectorAll("[data-label]");
          var anyHit = false;
          for (var j=0;j<all.length;j++){
            if (all[j].classList.contains("is-hit")) { anyHit = true; break; }
          }
          group.classList.toggle("is-hidden", !!query && !anyHit);
          if (query && anyHit){
            group.classList.add("forced-open");
          } else {
            group.classList.remove("forced-open");
          }
        }
      }

      function wireDisclosure(){
        document.addEventListener("click", function(e){
          var head = closest(e.target, "[data-toggle='group'], [data-toggle='subgroup']");
          if (!head) return;
          var wrap = head.parentNode;
          if (!wrap) return;
          wrap.classList.toggle("open");
        });
      }

      function closeMobileRailsOnOutsideClick(e){
        var isMobile = window.matchMedia("(max-width: 980px)").matches;
        if (!isMobile) return;
        if (!railLeft || !railRight) return;
        var t = e.target;
        if (!closest(t, "#railLeft") && !closest(t, "#railRight") && !closest(t, "#btnMenu")){
          railLeft.classList.remove("open");
          railRight.classList.remove("open");
        }
      }

      /* ---- Shared copy fallback ---- */
      function execCopyFallback(text){
        try{
          var ta = document.createElement("textarea");
          ta.value = text;
          ta.setAttribute("readonly","");
          ta.style.position = "fixed";
          ta.style.left = "-9999px";
          ta.style.top = "0";
          document.body.appendChild(ta);
          ta.focus();
          ta.select();
          try{ ta.setSelectionRange(0, ta.value.length); } catch(e){}
          var ok = document.execCommand("copy");
          document.body.removeChild(ta);
          return ok;
        } catch(e){ return false; }
      }

      /* ---- Copy Script (main) ---- */
      var copyBtn = document.getElementById("copyBtn");
      var heroCopyBtn = document.getElementById("heroCopyBtn");
      var promptBox = document.getElementById("promptBox");
      var copyStatus = document.getElementById("copyStatus");

      function setStatus(msg){
        if (!copyStatus) return;
        copyStatus.textContent = msg || "";
        if (!msg) return;
        window.setTimeout(function(){ copyStatus.textContent = ""; }, 1400);
      }
      function doCopy(){
        var text = promptBox ? promptBox.value : "";
        if (!text){ setStatus("Nothing to copy"); return; }
        if (navigator.clipboard && navigator.clipboard.writeText){
          navigator.clipboard.writeText(text).then(function(){ setStatus("Copied!"); }).catch(function(){
            var ok = execCopyFallback(text);
            setStatus(ok ? "Copied!" : "Selected â€” press Cmd+C");
          });
        } else {
          var ok = execCopyFallback(text);
          setStatus(ok ? "Copied!" : "Selected â€” press Cmd+C");
        }
      }
      if (copyBtn) copyBtn.addEventListener("click", doCopy);
      if (heroCopyBtn) heroCopyBtn.addEventListener("click", doCopy);

      /* ---- Copy VL Prompt ---- */
      var copyBtnVL = document.getElementById("copyBtnVL");
      var promptBoxVL = document.getElementById("promptBoxVL");
      var copyStatusVL = document.getElementById("copyStatusVL");

      function setStatusVL(msg){
        if (!copyStatusVL) return;
        copyStatusVL.textContent = msg || "";
        if (!msg) return;
        window.setTimeout(function(){ copyStatusVL.textContent = ""; }, 1400);
      }
      function doCopyVL(){
        var text = promptBoxVL ? promptBoxVL.value : "";
        if (!text){ setStatusVL("Nothing to copy"); return; }
        if (navigator.clipboard && navigator.clipboard.writeText){
          navigator.clipboard.writeText(text).then(function(){ setStatusVL("Copied!"); }).catch(function(){
            var ok = execCopyFallback(text);
            setStatusVL(ok ? "Copied!" : "Selected â€” press Cmd+C");
          });
        } else {
          var ok = execCopyFallback(text);
          setStatusVL(ok ? "Copied!" : "Selected â€” press Cmd+C");
        }
      }
      if (copyBtnVL) copyBtnVL.addEventListener("click", doCopyVL);

      /* ---- Init ---- */
      function init(){
        setTheme(getTheme());
        wireDisclosure();
        if (btnTheme) btnTheme.addEventListener("click", toggleTheme);
        if (btnMenu) btnMenu.addEventListener("click", function(){
          var isMobile = window.matchMedia("(max-width: 980px)").matches;
          if (isMobile){ toggleLeftRail(); }
          else { document.body.classList.toggle("compact-rails"); }
        });
        if (navClear) navClear.addEventListener("click", function(){
          if (!navSearch) return;
          navSearch.value = "";
          filterNav("");
          navSearch.focus();
        });
        if (navSearch) navSearch.addEventListener("input", function(){
          filterNav(navSearch.value || "");
        });
        document.addEventListener("click", closeMobileRailsOnOutsideClick, true);
        filterNav("");
      }
      if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", init);
      else init();
    })();

    function openInVSCode() {
      const githubBase = "https://caufero.github.io";
      const localBase = "file:///Users/cyril/Documents/Caufero%20Apps";
      const currentURL = window.location.href;
      const localPath = currentURL.replace(githubBase, localBase);
      const vscodePath = localPath.replace("file://", "vscode://file/");
      window.location.href = vscodePath;
    }
  </script>

  <style>
    :root{
      --slate-950:#0b1220;--slate-900:#0f172a;--slate-800:#1f2937;--slate-700:#334155;--slate-600:#475569;--slate-500:#64748b;--slate-400:#94a3b8;--slate-300:#cbd5e1;--slate-200:#e2e8f0;--slate-100:#f1f5f9;--slate-50:#f8fafc;
      --caufero-900:#0b2a36;--caufero-800:#0e3344;--caufero-700:#124458;
      --teal-700:#0f5e5b;--teal-600:#147a74;--teal-500:#1a9a93;
      --sky-600:#2c97b9;--sky-500:#41c5e0;
      --violet-600:#5b49c8;--amber-600:#b7791f;--copper-600:#d8743d;--rose-700:#b4233a;--danger:#d5432e;
      --bg:var(--slate-50);--surface:rgba(255,255,255,.88);--surface2:rgba(255,255,255,.78);--elev:rgba(255,255,255,.70);
      --line:rgba(15,23,42,.10);--line2:rgba(15,23,42,.16);
      --shadow-1:0 1px 0 rgba(15,23,42,.06),0 10px 22px rgba(15,23,42,.06);--shadow-2:0 2px 0 rgba(15,23,42,.08),0 18px 36px rgba(15,23,42,.10);
      --r-xs:8px;--r-sm:10px;--r-md:12px;--r-lg:14px;--r-xl:18px;
      --topbarH:56px;--railW:288px;--railWCompact:228px;--contentMax:1200px;
    }
    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:var(--bg);color:var(--slate-900);line-height:1.45;overflow-x:hidden;-webkit-font-smoothing:antialiased;}
    a{color:var(--caufero-800);text-decoration:none;}
    a:hover{text-decoration:underline;}
    img{max-width:100%;}
    .page{min-height:100vh;position:relative;}
    .bg{position:fixed;inset:0;z-index:-1;background:radial-gradient(900px 480px at 12% -10%, rgba(14,51,68,.14), transparent 58%),radial-gradient(860px 520px at 100% 10%, rgba(216,116,61,.12), transparent 58%),radial-gradient(900px 520px at 60% 110%, rgba(95,164,161,.10), transparent 60%),var(--bg);}
    .page[data-theme="dark"]{--bg:#070a12;--surface:rgba(10,14,26,.82);--surface2:rgba(10,14,26,.68);--elev:rgba(10,14,26,.60);--line:rgba(148,163,184,.14);--line2:rgba(148,163,184,.22);color:var(--slate-100);}
    .page[data-theme="dark"] a{color:#a7d7e3;}
    .page[data-theme="dark"] .bg{background:radial-gradient(900px 480px at 12% -10%, rgba(65,197,224,.14), transparent 60%),radial-gradient(860px 520px at 100% 10%, rgba(216,116,61,.10), transparent 60%),radial-gradient(900px 520px at 60% 110%, rgba(95,164,161,.10), transparent 62%),var(--bg);}
    .topbar{position:fixed;top:0;left:0;right:0;height:var(--topbarH);z-index:50;border-bottom:1px solid var(--line);backdrop-filter:saturate(140%) blur(10px);background:linear-gradient(to bottom, rgba(248,250,252,.82), rgba(248,250,252,.62));}
    .page[data-theme="dark"] .topbar{background:linear-gradient(to bottom, rgba(10,14,26,.84), rgba(10,14,26,.62));}
    .topbar-inner{height:100%;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px;padding:0 14px;max-width:calc(var(--contentMax) + (var(--railW) * 2) + 72px);margin:0 auto;}
    .brand{display:flex;align-items:center;gap:10px;min-width:0;text-decoration:none;}
    .brand:hover{text-decoration:none;}
    .brand-text{min-width:0;}
    .brand-name{font-weight:750;font-size:14px;color:inherit;line-height:1.1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .brand-sub{font-size:12px;color:var(--slate-600);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .page[data-theme="dark"] .brand-sub{color:rgba(241,245,249,.68);}
    .topbar-left,.topbar-center,.topbar-right{display:flex;align-items:center;}
    .topbar-left{justify-content:flex-start;min-width:0;}
    .topbar-center{justify-content:center;}
    .topbar-right{justify-content:flex-end;gap:8px;}
    .page-chip{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);background:var(--surface2);padding:7px 10px;border-radius:999px;box-shadow:0 1px 0 rgba(15,23,42,.04);}
    .page-chip-dot{width:8px;height:8px;border-radius:999px;background:linear-gradient(180deg, var(--copper-600), var(--teal-600));box-shadow:0 0 0 3px rgba(216,116,61,.12);}
    .page-chip-text{font-size:12px;font-weight:650;letter-spacing:.1px;}
    .icon-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:12px;border:1px solid var(--line);background:var(--surface);color:inherit;box-shadow:0 1px 0 rgba(15,23,42,.04);cursor:pointer;user-select:none;transition:transform .12s ease, box-shadow .12s ease;}
    .icon-btn:hover{text-decoration:none;box-shadow:var(--shadow-1);transform:translateY(-1px);}
    .icon-btn:active{transform:translateY(0px);}
    .icon-btn.ghost{background:transparent;border:1px solid var(--line);}
    .icon-btn.brand{border-color:rgba(14,51,68,.22);background:linear-gradient(180deg, rgba(14,51,68,.10), rgba(14,51,68,.06));}
    .icon-btn-text{font-size:12px;font-weight:650;}
    .ico{width:18px;height:18px;display:block;}
    .ico.sm{width:16px;height:16px;}
    .shell{padding-top:var(--topbarH);display:grid;grid-template-columns:var(--railW) 1fr var(--railW);min-height:100vh;gap:14px;max-width:calc(var(--contentMax) + (var(--railW) * 2) + 72px);margin:0 auto;padding-left:14px;padding-right:14px;}
    body.compact-rails .shell{grid-template-columns:var(--railWCompact) 1fr var(--railWCompact);}
    .rail{position:sticky;top:calc(var(--topbarH) + 14px);height:calc(100vh - var(--topbarH) - 28px);border:1px solid var(--line);background:var(--surface);border-radius:var(--r-xl);box-shadow:var(--shadow-1);overflow:hidden;display:flex;flex-direction:column;}
    .rail-top{padding:14px 14px 12px 14px;border-bottom:1px solid var(--line);background:linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0));}
    .page[data-theme="dark"] .rail-top{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));}
    .rail-title{font-size:12px;font-weight:750;letter-spacing:.12px;}
    .rail-sub{font-size:12px;color:var(--slate-600);margin-top:2px;}
    .page[data-theme="dark"] .rail-sub{color:rgba(241,245,249,.70);}
    .rail-search{margin-top:10px;display:flex;align-items:center;gap:8px;border:1px solid var(--line);background:var(--surface2);border-radius:12px;padding:8px 10px;}
    .rail-search input{width:100%;border:0;outline:none;background:transparent;color:inherit;font-size:12px;}
    .xbtn{border:0;background:transparent;color:inherit;padding:4px;border-radius:10px;cursor:pointer;opacity:.75;}
    .xbtn:hover{opacity:1;background:rgba(15,23,42,.06);}
    .page[data-theme="dark"] .xbtn:hover{background:rgba(241,245,249,.08);}
    .rail-hint{margin-top:10px;font-size:11px;color:var(--slate-500);}
    .page[data-theme="dark"] .rail-hint{color:rgba(241,245,249,.58);}
    .rail-body{padding:10px;overflow:auto;overscroll-behavior:contain;}
    .rail-bottom{padding:10px 12px;border-top:1px solid var(--line);background:linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.62));}
    .page[data-theme="dark"] .rail-bottom{background:linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.06));}
    .rail-foot{display:flex;align-items:center;gap:10px;color:var(--slate-600);font-size:11px;justify-content:center;}
    .page[data-theme="dark"] .rail-foot{color:rgba(241,245,249,.64);}
    .rail-foot-dot{width:8px;height:8px;border-radius:999px;background:rgba(14,51,68,.55);box-shadow:0 0 0 3px rgba(14,51,68,.10);}
    .rail-foot-dot.right{background:rgba(216,116,61,.70);box-shadow:0 0 0 3px rgba(216,116,61,.10);}
    .rail-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;}
    .rail-btn{display:inline-flex;align-items:center;justify-content:center;padding:8px 10px;border-radius:12px;border:1px solid var(--line);background:var(--surface2);font-size:12px;font-weight:800;color:inherit;text-decoration:none;}
    .rail-btn:hover{text-decoration:none;box-shadow:0 1px 0 rgba(15,23,42,.04);}
    .nav-item,.nav-group-head,.nav-subgroup-head{width:100%;display:flex;align-items:center;gap:10px;padding:9px 10px;border-radius:12px;border:1px solid transparent;color:inherit;background:transparent;cursor:pointer;user-select:none;text-align:left;}
    .nav-item:hover,.nav-group-head:hover,.nav-subgroup-head:hover{background:rgba(15,23,42,.04);border-color:rgba(15,23,42,.06);text-decoration:none;}
    .page[data-theme="dark"] .nav-item:hover,.page[data-theme="dark"] .nav-group-head:hover,.page[data-theme="dark"] .nav-subgroup-head:hover{background:rgba(241,245,249,.06);border-color:rgba(241,245,249,.08);}
    .nav-item.active{background:linear-gradient(180deg, rgba(14,51,68,.10), rgba(14,51,68,.06));border-color:rgba(14,51,68,.20);}
    .page[data-theme="dark"] .nav-item.active{background:linear-gradient(180deg, rgba(65,197,224,.10), rgba(65,197,224,.06));border-color:rgba(65,197,224,.22);}
    .nav-item.sub{padding-left:34px;}
    .nav-item.sub .dot{width:6px;height:6px;border-radius:999px;background:rgba(100,116,139,.55);flex:0 0 auto;}
    .nav-item.sub.danger .dot{background:rgba(213,67,46,.70);}
    .nav-item.sub.muted{opacity:.65;cursor:default;}
    .nav-ico{display:inline-flex;align-items:center;justify-content:center;color:inherit;opacity:.9;}
    .nav-text{flex:1 1 auto;font-size:12.5px;font-weight:650;letter-spacing:.05px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
    .chev{opacity:.65;display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;transition:transform .14s ease;}
    .nav-group,.nav-subgroup{margin-top:6px;}
    .nav-group-body,.nav-subgroup-body{padding-left:6px;margin-top:6px;display:none;}
    .nav-group.open > .nav-group-body{display:block;}
    .nav-subgroup.open > .nav-subgroup-body{display:block;}
    .nav-group.open > .nav-group-head .chev,.nav-subgroup.open > .nav-subgroup-head .chev{transform:rotate(90deg);}
    .nav-subgroup-head{padding-left:12px;gap:10px;}
    .nav-subgroup-head.inner{padding-left:22px;}
    .mini-pill{font-size:10px;font-weight:800;letter-spacing:.3px;padding:3px 7px;border-radius:999px;border:1px solid var(--line);background:rgba(15,23,42,.02);color:var(--slate-700);flex:0 0 auto;}
    .page[data-theme="dark"] .mini-pill{background:rgba(241,245,249,.06);color:rgba(241,245,249,.78);}
    .mini-pill.teal{border-color:rgba(20,122,116,.25);background:rgba(20,122,116,.10);color:var(--teal-700);}
    .mini-pill.violet{border-color:rgba(91,73,200,.22);background:rgba(91,73,200,.10);color:var(--violet-600);}
    .mini-pill.amber{border-color:rgba(183,121,31,.22);background:rgba(183,121,31,.10);color:var(--amber-600);}
    .mini-pill.slate{border-color:rgba(71,85,105,.22);background:rgba(71,85,105,.08);color:var(--slate-700);}
    .mini-pill.rose{border-color:rgba(180,35,58,.22);background:rgba(180,35,58,.10);color:var(--rose-700);}
    .is-dim{opacity:.35;filter:saturate(.9);}
    .is-hidden{display:none !important;}
    .forced-open > .nav-group-body,.forced-open > .nav-subgroup-body{display:block;}
    .content{min-width:0;padding:14px 0 22px 0;}
    .content-inner{max-width:var(--contentMax);margin:0 auto;display:flex;flex-direction:column;gap:14px;}
    .hero{border:1px solid var(--line);background:linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.70));border-radius:var(--r-xl);box-shadow:var(--shadow-2);position:relative;overflow:hidden;}
    .page[data-theme="dark"] .hero{background:linear-gradient(180deg, rgba(10,14,26,.88), rgba(10,14,26,.66));}
    .hero-glow{position:absolute;inset:-80px -120px auto -120px;height:220px;background:radial-gradient(closest-side, rgba(65,197,224,.20), transparent 68%);opacity:.9;pointer-events:none;}
    .hero-inner{padding:18px 18px 16px 18px;position:relative;}
    .hero-top{display:flex;flex-direction:column;gap:6px;}
    .hero-title{font-size:18px;font-weight:850;letter-spacing:.2px;}
    .hero-sub{font-size:13px;color:var(--slate-600);max-width:100ch;}
    .page[data-theme="dark"] .hero-sub{color:rgba(241,245,249,.68);}
    .hero-actions{margin-top:14px;display:flex;flex-wrap:wrap;gap:10px;}
    .cta{display:inline-flex;align-items:center;gap:10px;padding:10px 12px;border-radius:14px;border:1px solid rgba(14,51,68,.18);background:linear-gradient(180deg, rgba(14,51,68,.12), rgba(14,51,68,.06));color:inherit;font-weight:750;font-size:12.5px;box-shadow:0 1px 0 rgba(15,23,42,.04);cursor:pointer;}
    .cta:hover{text-decoration:none;box-shadow:var(--shadow-1);transform:translateY(-1px);transition:transform .12s ease, box-shadow .12s ease;}
    .cta:active{transform:translateY(0px);}
    .cta-ico{display:inline-flex;align-items:center;justify-content:center;}
    .hero-meta{margin-top:14px;display:flex;flex-wrap:wrap;gap:8px;}
    .chip{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:rgba(255,255,255,.55);font-size:11px;font-weight:750;color:var(--slate-700);}
    .page[data-theme="dark"] .chip{background:rgba(255,255,255,.06);color:rgba(241,245,249,.78);}
    .chip.violet{border-color:rgba(91,73,200,.22);background:rgba(91,73,200,.10);color:var(--violet-600);}
    .chip.amber{border-color:rgba(183,121,31,.22);background:rgba(183,121,31,.10);color:var(--amber-600);}
    .chip.copper{border-color:rgba(216,116,61,.22);background:rgba(216,116,61,.10);color:var(--copper-600);}
    .card{border:1px solid var(--line);background:var(--surface);border-radius:var(--r-xl);box-shadow:var(--shadow-1);}
    .section{padding:16px;}
    .section-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px;}
    .section-title{display:flex;align-items:center;gap:10px;font-weight:850;letter-spacing:.12px;font-size:14px;min-width:0;}
    .section-emoji{font-size:18px;}
    .section-sub{font-size:12px;color:var(--slate-600);font-weight:650;}
    .page[data-theme="dark"] .section-sub{color:rgba(241,245,249,.68);}
    .section-actions{display:flex;align-items:center;gap:10px;}
    .copy-status{font-size:12px;color:var(--teal-600);font-weight:750;min-width:60px;text-align:right;}
    .page[data-theme="dark"] .copy-status{color:var(--sky-500);}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:12px;border:1px solid var(--line);background:var(--surface2);color:inherit;font-weight:750;font-size:12.5px;cursor:pointer;box-shadow:0 1px 0 rgba(15,23,42,.04);transition:transform .12s ease, box-shadow .12s ease;}
    .btn:hover{text-decoration:none;box-shadow:var(--shadow-1);transform:translateY(-1px);}
    .btn:active{transform:translateY(0px);}
    .btn.primary{background:linear-gradient(180deg, rgba(14,51,68,.14), rgba(14,51,68,.08));border-color:rgba(14,51,68,.20);}
    .page[data-theme="dark"] .btn.primary{background:linear-gradient(180deg, rgba(65,197,224,.18), rgba(65,197,224,.10));border-color:rgba(65,197,224,.24);}
    .footer{border:1px solid var(--line);background:var(--surface);border-radius:var(--r-xl);box-shadow:var(--shadow-1);padding:14px 16px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
    .footer-title{font-weight:950;letter-spacing:.2px;}
    .footer-sub{font-size:12px;color:var(--slate-600);margin-top:2px;}
    .page[data-theme="dark"] .footer-sub{color:rgba(241,245,249,.66);}
    .footer-right{display:flex;gap:12px;flex-wrap:wrap;}
    .footer-link{font-size:12px;font-weight:800;color:inherit;text-decoration:none;padding:7px 10px;border-radius:12px;border:1px solid transparent;}
    .footer-link:hover{text-decoration:none;border-color:var(--line);background:var(--surface2);}
    .panel-card{border:1px solid var(--line);background:linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.60));border-radius:16px;padding:14px;box-shadow:0 1px 0 rgba(15,23,42,.04);margin-bottom:12px;}
    .page[data-theme="dark"] .panel-card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));}
    .panel-head{display:flex;flex-direction:column;gap:4px;margin-bottom:10px;}
    .panel-title{font-weight:950;letter-spacing:.15px;display:flex;align-items:center;gap:10px;}
    .panel-sub{font-size:12px;color:var(--slate-600);line-height:1.35;}
    .page[data-theme="dark"] .panel-sub{color:rgba(241,245,249,.66);}
    .pill-row{display:flex;flex-wrap:wrap;gap:8px;}
    .pill2{font-size:11px;font-weight:850;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:var(--surface2);color:inherit;}
    .side-grid{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:10px;}
    .side-pill{display:flex;align-items:center;justify-content:center;text-align:center;padding:10px;border-radius:14px;border:1px solid var(--line);background:var(--surface2);font-size:12px;font-weight:850;color:inherit;text-decoration:none;min-height:42px;}
    .side-pill:hover{text-decoration:none;box-shadow:0 1px 0 rgba(15,23,42,.04);transform:translateY(-1px);transition:transform .12s ease;}
    .stack{display:flex;flex-direction:column;gap:8px;}
    .stack-item{border:1px solid var(--line);background:var(--surface2);border-radius:14px;padding:10px 12px;font-size:12.5px;font-weight:800;color:inherit;line-height:1.45;}
    :focus{outline:none;}
    :focus-visible{box-shadow:0 0 0 3px rgba(14,51,68,.22), 0 0 0 6px rgba(255,255,255,.12);border-radius:12px;}
    .page[data-theme="dark"] :focus-visible{box-shadow:0 0 0 3px rgba(65,197,224,.22), 0 0 0 6px rgba(10,14,26,.40);}
    .prompt-wrap{margin-top:6px;}
    .prompt-box{
      width:100%;height:400px;min-height:200px;resize:vertical;
      border-radius:16px;border:1px solid rgba(15,23,42,.12);
      background:linear-gradient(to bottom, rgba(2,6,23,.92), rgba(2,6,23,.86));
      color:#e5e7eb;padding:14px 14px;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      font-size:12px;line-height:1.55;outline:none;
      box-shadow:0 14px 34px rgba(2,6,23,.18);overflow:auto;white-space:pre;
    }
    #promptBoxVL{height:150px;min-height:80px;resize:none;}
    #promptBox{height:calc(100vh - 280px);min-height:600px;resize:vertical;}
    .prompt-box::selection{background:rgba(65,197,224,.35);}
    .prompt-box:focus{border-color:rgba(65,197,224,.40);box-shadow:0 14px 34px rgba(2,6,23,.18), 0 0 0 3px rgba(65,197,224,.12);}
    @media (max-width: 980px){
      .shell{grid-template-columns:1fr;gap:12px;}
      .rail{position:fixed;top:var(--topbarH);height:calc(100vh - var(--topbarH));border-radius:18px;z-index:60;width:min(92vw, 340px);box-shadow:var(--shadow-2);transform:translateX(-110%);transition:transform .18s ease;}
      .rail-right{right:12px;left:auto;transform:translateX(110%);}
      .rail-left{left:12px;right:auto;}
      .rail.open{transform:translateX(0%);}
      .content{padding:12px 0 18px 0;}
      .topbar-inner{grid-template-columns:1fr auto;gap:10px;}
      .topbar-center{display:none;}
      .brand-sub{display:none;}
      .side-grid{grid-template-columns:1fr;}
    }
    @media (max-width: 560px){
      .icon-btn-text{display:none;}
      .topbar-right{gap:6px;}
    }
  </style>
</body>
</html>